{"modified": "2014-10-14T10:49:04", "content_type": "text/html", "slug": "modules/lux/forms/fields", "name": "modules_lux_forms_fields", "html": {"main": "<section id=\"page-header\" class=\"page-header-outer modules_lux_forms_fields-header\">\n    <div class=\"layer\">\n        <div class=\"page-header\">\n            <div class=\"container fullpage\">\n                <div class=\"row fullpage\">\n                    <div class=\"col-sm-12 text-center\">\n                        <breadcrumbs></breadcrumbs>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</section>\n\n<div id=\"page-main\">\n    <div class=\"container\">\n        <div class=\"row\">\n            <div class=\"modules_lux_forms_fields-main col-md-12\">\n                <div class=\"center-block\" style=\"max-width: 900px\" data-highlight data-hash-scroll>\n                    <h1>Source code for lux.forms.fields</h1><div class=\"highlight\"><pre>\n<span class=\"sd\">&#39;&#39;&#39;</span>\n<span class=\"sd\">Field</span>\n<span class=\"sd\">~~~~~~~~~~~~~~~</span>\n\n<span class=\"sd\">.. autoclass:: Field</span>\n<span class=\"sd\">   :members:</span>\n<span class=\"sd\">   :member-order: bysource</span>\n\n<span class=\"sd\">CharField</span>\n<span class=\"sd\">~~~~~~~~~~~~~~~</span>\n\n<span class=\"sd\">.. autoclass:: CharField</span>\n<span class=\"sd\">   :members:</span>\n<span class=\"sd\">   :member-order: bysource</span>\n\n<span class=\"sd\">IntegerField</span>\n<span class=\"sd\">~~~~~~~~~~~~~~~</span>\n\n<span class=\"sd\">.. autoclass:: IntegerField</span>\n<span class=\"sd\">   :members:</span>\n<span class=\"sd\">   :member-order: bysource</span>\n\n<span class=\"sd\">FloatField</span>\n<span class=\"sd\">~~~~~~~~~~~~~~~</span>\n\n<span class=\"sd\">.. autoclass:: FloatField</span>\n<span class=\"sd\">   :members:</span>\n<span class=\"sd\">   :member-order: bysource</span>\n\n<span class=\"sd\">DateField</span>\n<span class=\"sd\">~~~~~~~~~~~~~~~</span>\n\n<span class=\"sd\">.. autoclass:: DateField</span>\n<span class=\"sd\">   :members:</span>\n<span class=\"sd\">   :member-order: bysource</span>\n\n<span class=\"sd\">DateTimeField</span>\n<span class=\"sd\">~~~~~~~~~~~~~~~</span>\n\n<span class=\"sd\">.. autoclass:: DateTimeField</span>\n<span class=\"sd\">   :members:</span>\n<span class=\"sd\">   :member-order: bysource</span>\n\n<span class=\"sd\">BooleanField</span>\n<span class=\"sd\">~~~~~~~~~~~~~~~</span>\n\n<span class=\"sd\">.. autoclass:: BooleanField</span>\n<span class=\"sd\">   :members:</span>\n<span class=\"sd\">   :member-order: bysource</span>\n\n<span class=\"sd\">HiddenField</span>\n<span class=\"sd\">~~~~~~~~~~~~~~~~</span>\n\n<span class=\"sd\">.. autoclass:: HiddenField</span>\n<span class=\"sd\">   :members:</span>\n<span class=\"sd\">   :member-order: bysource</span>\n\n<span class=\"sd\">ValidationError</span>\n<span class=\"sd\">~~~~~~~~~~~~~~~</span>\n\n<span class=\"sd\">.. autoclass:: ValidationError</span>\n<span class=\"sd\">   :members:</span>\n<span class=\"sd\">   :member-order: bysource</span>\n\n<span class=\"sd\">field_widget</span>\n<span class=\"sd\">~~~~~~~~~~~~~~~</span>\n\n<span class=\"sd\">.. autofunction:: field_widget</span>\n<span class=\"sd\">&#39;&#39;&#39;</span>\n<span class=\"kn\">from</span> <span class=\"nn\">inspect</span> <span class=\"kn\">import</span> <span class=\"n\">isclass</span>\n<span class=\"kn\">from</span> <span class=\"nn\">datetime</span> <span class=\"kn\">import</span> <span class=\"n\">datetime</span><span class=\"p\">,</span> <span class=\"n\">date</span>\n<span class=\"kn\">from</span> <span class=\"nn\">collections</span> <span class=\"kn\">import</span> <span class=\"n\">Mapping</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">pulsar.utils.html</span> <span class=\"kn\">import</span> <span class=\"n\">NOTHING</span><span class=\"p\">,</span> <span class=\"n\">escape</span>\n<span class=\"kn\">from</span> <span class=\"nn\">pulsar.utils.slugify</span> <span class=\"kn\">import</span> <span class=\"n\">slugify</span>\n<span class=\"kn\">from</span> <span class=\"nn\">pulsar.utils.pep</span> <span class=\"kn\">import</span> <span class=\"n\">to_string</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">lux</span> <span class=\"kn\">import</span> <span class=\"n\">Html</span>\n<span class=\"kn\">from</span> <span class=\"nn\">lux.utils.files</span> <span class=\"kn\">import</span> <span class=\"n\">File</span>\n\n\n<span class=\"n\">__all__</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s\">&#39;FormError&#39;</span><span class=\"p\">,</span>\n           <span class=\"s\">&#39;ValidationError&#39;</span><span class=\"p\">,</span>\n           <span class=\"s\">&#39;field_widget&#39;</span><span class=\"p\">,</span>\n           <span class=\"s\">&#39;Field&#39;</span><span class=\"p\">,</span>\n           <span class=\"s\">&#39;CharField&#39;</span><span class=\"p\">,</span>\n           <span class=\"s\">&#39;BooleanField&#39;</span><span class=\"p\">,</span>\n           <span class=\"s\">&#39;DateField&#39;</span><span class=\"p\">,</span>\n           <span class=\"s\">&#39;DateTimeField&#39;</span><span class=\"p\">,</span>\n           <span class=\"s\">&#39;ChoiceField&#39;</span><span class=\"p\">,</span>\n           <span class=\"s\">&#39;IntegerField&#39;</span><span class=\"p\">,</span>\n           <span class=\"s\">&#39;FloatField&#39;</span><span class=\"p\">,</span>\n           <span class=\"s\">&#39;EmailField&#39;</span><span class=\"p\">,</span>\n           <span class=\"s\">&#39;FileField&#39;</span><span class=\"p\">,</span>\n           <span class=\"s\">&#39;HiddenField&#39;</span><span class=\"p\">,</span>\n           <span class=\"s\">&#39;PasswordField&#39;</span><span class=\"p\">,</span>\n           <span class=\"s\">&#39;ChoiceFieldOptions&#39;</span><span class=\"p\">,</span>\n           <span class=\"s\">&#39;ChoiceGroup&#39;</span><span class=\"p\">,</span>\n           <span class=\"s\">&#39;UrlField&#39;</span><span class=\"p\">]</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">FormError</span><span class=\"p\">(</span><span class=\"ne\">Exception</span><span class=\"p\">):</span>\n    <span class=\"k\">pass</span>\n\n\n<div class=\"viewcode-block\" id=\"ValidationError\"><a class=\"viewcode-back\" href=\"../../../api/forms#lux.forms.fields.ValidationError\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">ValidationError</span><span class=\"p\">(</span><span class=\"ne\">ValueError</span><span class=\"p\">):</span>\n    <span class=\"sd\">&#39;&#39;&#39;Raised when a :class:`djpcms.Form` instance does not validate.</span>\n\n<span class=\"sd\">.. attribute:: field_name</span>\n\n<span class=\"sd\">    Name of the :class:`Field` which this error refers to.</span>\n<span class=\"sd\">&#39;&#39;&#39;</span>\n    <span class=\"k\">def</span> <span class=\"nf\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">msg</span><span class=\"o\">=</span><span class=\"s\">&#39;&#39;</span><span class=\"p\">,</span> <span class=\"n\">field_name</span><span class=\"o\">=</span><span class=\"bp\">None</span><span class=\"p\">):</span>\n        <span class=\"nb\">super</span><span class=\"p\">(</span><span class=\"n\">ValidationError</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">__init__</span><span class=\"p\">(</span><span class=\"n\">msg</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">field_name</span> <span class=\"o\">=</span> <span class=\"n\">field_name</span>\n\n</div>\n<span class=\"n\">standard_validation_error</span> <span class=\"o\">=</span> <span class=\"s\">&#39;{0} is required&#39;</span>\n<span class=\"n\">standard_wrong_value_message</span> <span class=\"o\">=</span> \\\n    <span class=\"k\">lambda</span> <span class=\"n\">field</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">:</span> <span class=\"s\">&#39;</span><span class=\"si\">%s</span><span class=\"s\"> is not a valid value&#39;</span> <span class=\"o\">%</span> <span class=\"n\">value</span>\n\n\n<div class=\"viewcode-block\" id=\"field_widget\"><a class=\"viewcode-back\" href=\"../../../api/forms#lux.forms.fields.field_widget\">[docs]</a><span class=\"k\">def</span> <span class=\"nf\">field_widget</span><span class=\"p\">(</span><span class=\"n\">tag</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">defaults</span><span class=\"p\">):</span>\n    <span class=\"sd\">&#39;&#39;&#39;Returns an :class:`Html` factory function for ``tag`` and a given</span>\n<span class=\"sd\">dictionary of ``defaults`` parameters. For example::</span>\n\n<span class=\"sd\">    &gt;&gt;&gt; input_factory = field_widget(&#39;input&#39;, type=&#39;text&#39;)</span>\n<span class=\"sd\">    &gt;&gt;&gt; html = input_factory(value=&#39;bla&#39;)</span>\n\n<span class=\"sd\">    &#39;&#39;&#39;</span>\n    <span class=\"k\">def</span> <span class=\"nf\">html_input</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">children</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">params</span><span class=\"p\">):</span>\n        <span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">defaults</span><span class=\"o\">.</span><span class=\"n\">copy</span><span class=\"p\">()</span>\n        <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">update</span><span class=\"p\">(</span><span class=\"n\">params</span><span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"n\">Html</span><span class=\"p\">(</span><span class=\"n\">tag</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">children</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">p</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">html_input</span>\n\n</div>\n<span class=\"k\">class</span> <span class=\"nc\">Choice</span><span class=\"p\">(</span><span class=\"nb\">object</span><span class=\"p\">):</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">choices</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_choices</span> <span class=\"o\">=</span> <span class=\"n\">choices</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">choices</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"n\">choices</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_choices</span>\n        <span class=\"k\">if</span> <span class=\"nb\">hasattr</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_choices</span><span class=\"p\">,</span> <span class=\"s\">&#39;__call__&#39;</span><span class=\"p\">):</span>\n            <span class=\"n\">choices</span> <span class=\"o\">=</span> <span class=\"n\">choices</span><span class=\"p\">()</span>\n        <span class=\"k\">return</span> <span class=\"n\">choices</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">get_initial</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">form</span><span class=\"p\">):</span>\n        <span class=\"n\">choices</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">choices</span><span class=\"p\">()</span>\n        <span class=\"k\">if</span> <span class=\"n\">choices</span><span class=\"p\">:</span>\n            <span class=\"n\">initial</span> <span class=\"o\">=</span> <span class=\"n\">choices</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n            <span class=\"k\">if</span> <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">initial</span><span class=\"p\">,</span> <span class=\"n\">ChoiceGroup</span><span class=\"p\">):</span>\n                <span class=\"n\">initial</span> <span class=\"o\">=</span> <span class=\"n\">initial</span><span class=\"o\">.</span><span class=\"n\">get_initial</span><span class=\"p\">(</span><span class=\"n\">form</span><span class=\"p\">)</span>\n            <span class=\"k\">elif</span> <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">initial</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nb\">list</span><span class=\"p\">,</span> <span class=\"nb\">tuple</span><span class=\"p\">)):</span>\n                <span class=\"n\">initial</span> <span class=\"o\">=</span> <span class=\"n\">initial</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n            <span class=\"k\">return</span> <span class=\"n\">initial</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">html</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">html</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"o\">=</span><span class=\"bp\">None</span><span class=\"p\">):</span>\n        <span class=\"n\">choices</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">choices</span><span class=\"p\">()</span>\n        <span class=\"k\">for</span> <span class=\"n\">choice</span> <span class=\"ow\">in</span> <span class=\"n\">choices</span><span class=\"p\">:</span>\n            <span class=\"k\">if</span> <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">choice</span><span class=\"p\">,</span> <span class=\"n\">ChoiceGroup</span><span class=\"p\">):</span>\n                <span class=\"n\">choice</span><span class=\"o\">.</span><span class=\"n\">html</span><span class=\"p\">(</span><span class=\"n\">html</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">)</span>\n            <span class=\"k\">else</span><span class=\"p\">:</span>\n                <span class=\"k\">if</span> <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">choice</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nb\">list</span><span class=\"p\">,</span> <span class=\"nb\">tuple</span><span class=\"p\">)):</span>\n                    <span class=\"k\">assert</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">choice</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"s\">&quot;choice must be a two elements &quot;</span>\n                                              <span class=\"s\">&quot;tuple or list&quot;</span><span class=\"p\">)</span>\n                    <span class=\"n\">opt</span> <span class=\"o\">=</span> <span class=\"n\">Html</span><span class=\"p\">(</span><span class=\"s\">&#39;option&#39;</span><span class=\"p\">,</span> <span class=\"n\">choice</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">],</span> <span class=\"n\">value</span><span class=\"o\">=</span><span class=\"n\">choice</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">])</span>\n                <span class=\"k\">else</span><span class=\"p\">:</span>\n                    <span class=\"n\">opt</span> <span class=\"o\">=</span> <span class=\"n\">Html</span><span class=\"p\">(</span><span class=\"s\">&#39;option&#39;</span><span class=\"p\">,</span> <span class=\"n\">choice</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"o\">=</span><span class=\"n\">choice</span><span class=\"p\">)</span>\n                <span class=\"k\">if</span> <span class=\"n\">opt</span><span class=\"o\">.</span><span class=\"n\">get_form_value</span><span class=\"p\">()</span> <span class=\"o\">==</span> <span class=\"n\">value</span><span class=\"p\">:</span>\n                    <span class=\"n\">opt</span><span class=\"o\">.</span><span class=\"n\">attr</span><span class=\"p\">(</span><span class=\"s\">&#39;selected&#39;</span><span class=\"p\">,</span> <span class=\"s\">&#39;&#39;</span><span class=\"p\">)</span>\n                <span class=\"n\">html</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">opt</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">clean</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">values</span><span class=\"p\">,</span> <span class=\"n\">bfield</span><span class=\"p\">):</span>\n        <span class=\"n\">choices</span> <span class=\"o\">=</span> <span class=\"nb\">dict</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">choices</span><span class=\"p\">())</span>\n        <span class=\"k\">for</span> <span class=\"n\">v</span> <span class=\"ow\">in</span> <span class=\"n\">values</span><span class=\"p\">:</span>\n            <span class=\"n\">v</span> <span class=\"o\">=</span> <span class=\"n\">to_string</span><span class=\"p\">(</span><span class=\"n\">v</span><span class=\"p\">)</span>\n            <span class=\"k\">if</span> <span class=\"n\">v</span> <span class=\"ow\">not</span> <span class=\"ow\">in</span> <span class=\"n\">choices</span><span class=\"p\">:</span>\n                <span class=\"k\">raise</span> <span class=\"n\">ValidationError</span><span class=\"p\">(</span><span class=\"s\">&#39;</span><span class=\"si\">%s</span><span class=\"s\"> is not a valid choice&#39;</span> <span class=\"o\">%</span> <span class=\"n\">v</span><span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"n\">values</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">ChoiceGroup</span><span class=\"p\">(</span><span class=\"n\">Choice</span><span class=\"p\">):</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">choices</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"n\">name</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_choices</span> <span class=\"o\">=</span> <span class=\"n\">choices</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">html</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">html</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"o\">=</span><span class=\"bp\">None</span><span class=\"p\">):</span>\n        <span class=\"n\">group</span> <span class=\"o\">=</span> <span class=\"n\">Html</span><span class=\"p\">(</span><span class=\"s\">&#39;optgroup&#39;</span><span class=\"p\">,</span> <span class=\"n\">label</span><span class=\"o\">=</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">)</span>\n        <span class=\"n\">html</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">group</span><span class=\"p\">)</span>\n        <span class=\"nb\">super</span><span class=\"p\">(</span><span class=\"n\">ChoiceGroup</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">html</span><span class=\"p\">(</span><span class=\"n\">group</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">)</span>\n\n\n<div class=\"viewcode-block\" id=\"Field\"><a class=\"viewcode-back\" href=\"../../../api/forms#lux.forms.fields.Field\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">Field</span><span class=\"p\">(</span><span class=\"nb\">object</span><span class=\"p\">):</span>\n    <span class=\"sd\">&#39;&#39;&#39;Base class for all :class:`Form` fields.</span>\n<span class=\"sd\">Field are specified as attribute of a form, for example::</span>\n\n<span class=\"sd\">    from lux import forms</span>\n\n<span class=\"sd\">    class MyForm(forms.Form):</span>\n<span class=\"sd\">        name = forms.CharField()</span>\n<span class=\"sd\">        age = forms.IntegerField()</span>\n\n\n<span class=\"sd\">:parameter required: set the :attr:`required` attribute.</span>\n<span class=\"sd\">:parameter default: set the :attr:`default` attribute.</span>\n<span class=\"sd\">:parameter initial: set the :attr:`initial` attribute.</span>\n<span class=\"sd\">:parameter widget: Optional callable to override the :attr:`widget` attribute.</span>\n<span class=\"sd\">    If supplied it must accept this field as first parameter.</span>\n<span class=\"sd\">    Check the :func:`field_widget` factory for an example signature.</span>\n<span class=\"sd\">:parameter wrong_value_message: callable which receive the field and the field</span>\n<span class=\"sd\">    value when to produce a message when the ``value`` did not validate.</span>\n\n<span class=\"sd\">.. attribute:: required</span>\n\n<span class=\"sd\">    boolean specifying if the field is required or not.</span>\n<span class=\"sd\">    If a field is required and</span>\n<span class=\"sd\">    it is not available or empty it will fail validation.</span>\n\n<span class=\"sd\">    Default: ``True``.</span>\n\n<span class=\"sd\">.. attribute:: default</span>\n\n<span class=\"sd\">    Default value for this field. It can be a callable accepting</span>\n<span class=\"sd\">    a :class:`BoundField` instance for the field as only parameter.</span>\n\n<span class=\"sd\">    Default: ``None``.</span>\n\n<span class=\"sd\">.. attribute:: initial</span>\n\n<span class=\"sd\">    Initial value for field. If Provided, the field will display</span>\n<span class=\"sd\">    the value when rendering the form without bound data.</span>\n<span class=\"sd\">    It can be a callable which receive a :class:`Form`</span>\n<span class=\"sd\">    instance as argument.</span>\n\n<span class=\"sd\">    Default: ``None``.</span>\n\n<span class=\"sd\">    .. seealso::</span>\n\n<span class=\"sd\">        Inital is used by :class:`Form` and</span>\n<span class=\"sd\">        by :class:`HtmlForm` instances to render</span>\n<span class=\"sd\">        an unbounded form. The :func:`Form.initials`</span>\n<span class=\"sd\">        method return a dictionary of initial values for fields</span>\n<span class=\"sd\">        providing one.</span>\n\n<span class=\"sd\">.. attribute:: widget</span>\n\n<span class=\"sd\">    The :class:`djpcms.html.WidgetMaker` for this field.</span>\n\n<span class=\"sd\">    Default: ``None``.</span>\n\n<span class=\"sd\">.. attribute:: widget_attrs</span>\n\n<span class=\"sd\">    dictionary of widget attributes used for setting the widget</span>\n<span class=\"sd\">    html attributes. For example::</span>\n\n<span class=\"sd\">        widget_attrs = {&#39;title&#39;:&#39;my title&#39;}</span>\n\n<span class=\"sd\">    It can also be a callable which accept a :class:`BoundField` as the</span>\n<span class=\"sd\">    only parameter.</span>\n\n<span class=\"sd\">    Default: ``None``.</span>\n<span class=\"sd\">&#39;&#39;&#39;</span>\n    <span class=\"n\">default</span> <span class=\"o\">=</span> <span class=\"bp\">None</span>\n    <span class=\"n\">widget</span> <span class=\"o\">=</span> <span class=\"bp\">None</span>\n    <span class=\"n\">required</span> <span class=\"o\">=</span> <span class=\"bp\">True</span>\n    <span class=\"n\">creation_counter</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>\n    <span class=\"n\">validation_error</span> <span class=\"o\">=</span> <span class=\"n\">standard_validation_error</span>\n    <span class=\"n\">wrong_value_message</span> <span class=\"o\">=</span> <span class=\"n\">standard_wrong_value_message</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span>\n                 <span class=\"n\">required</span><span class=\"o\">=</span><span class=\"bp\">None</span><span class=\"p\">,</span>\n                 <span class=\"n\">default</span><span class=\"o\">=</span><span class=\"bp\">None</span><span class=\"p\">,</span>\n                 <span class=\"n\">initial</span><span class=\"o\">=</span><span class=\"bp\">None</span><span class=\"p\">,</span>\n                 <span class=\"n\">validation_error</span><span class=\"o\">=</span><span class=\"bp\">None</span><span class=\"p\">,</span>\n                 <span class=\"n\">help_text</span><span class=\"o\">=</span><span class=\"bp\">None</span><span class=\"p\">,</span>\n                 <span class=\"n\">label</span><span class=\"o\">=</span><span class=\"bp\">None</span><span class=\"p\">,</span>\n                 <span class=\"n\">widget</span><span class=\"o\">=</span><span class=\"bp\">None</span><span class=\"p\">,</span>\n                 <span class=\"n\">widget_attrs</span><span class=\"o\">=</span><span class=\"bp\">None</span><span class=\"p\">,</span>\n                 <span class=\"n\">disabled</span><span class=\"o\">=</span><span class=\"bp\">None</span><span class=\"p\">,</span>\n                 <span class=\"n\">attrname</span><span class=\"o\">=</span><span class=\"bp\">None</span><span class=\"p\">,</span>\n                 <span class=\"n\">wrong_value_message</span><span class=\"o\">=</span><span class=\"bp\">None</span><span class=\"p\">,</span>\n                 <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"n\">attrname</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">default</span> <span class=\"o\">=</span> <span class=\"n\">default</span> <span class=\"k\">if</span> <span class=\"n\">default</span> <span class=\"ow\">is</span> <span class=\"ow\">not</span> <span class=\"bp\">None</span> <span class=\"k\">else</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">default</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">initial</span> <span class=\"o\">=</span> <span class=\"n\">initial</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">required</span> <span class=\"o\">=</span> <span class=\"n\">required</span> <span class=\"k\">if</span> <span class=\"n\">required</span> <span class=\"ow\">is</span> <span class=\"ow\">not</span> <span class=\"bp\">None</span> <span class=\"k\">else</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">required</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">validation_error</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">validation_error</span> <span class=\"ow\">or</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">validation_error</span> <span class=\"ow\">or</span>\n                                 <span class=\"n\">standard_validation_error</span><span class=\"p\">)</span>\n        <span class=\"k\">if</span> <span class=\"n\">wrong_value_message</span><span class=\"p\">:</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">wrong_value_message</span> <span class=\"o\">=</span> <span class=\"n\">wrong_value_message</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">help_text</span> <span class=\"o\">=</span> <span class=\"n\">escape</span><span class=\"p\">(</span><span class=\"n\">help_text</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">label</span> <span class=\"o\">=</span> <span class=\"n\">label</span>\n        <span class=\"k\">if</span> <span class=\"n\">widget</span><span class=\"p\">:</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">widget</span> <span class=\"o\">=</span> <span class=\"k\">lambda</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">:</span> <span class=\"n\">widget</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">widget_attrs</span> <span class=\"o\">=</span> <span class=\"n\">widget_attrs</span> <span class=\"ow\">or</span> <span class=\"p\">{}</span>\n        <span class=\"k\">if</span> <span class=\"n\">disabled</span><span class=\"p\">:</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">widget_attrs</span><span class=\"p\">[</span><span class=\"s\">&#39;disabled&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s\">&#39;disabled&#39;</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">handle_params</span><span class=\"p\">(</span><span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n        <span class=\"c\"># Increase the creation counter, and save our local copy.</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">creation_counter</span> <span class=\"o\">=</span> <span class=\"n\">Field</span><span class=\"o\">.</span><span class=\"n\">creation_counter</span>\n        <span class=\"n\">Field</span><span class=\"o\">.</span><span class=\"n\">creation_counter</span> <span class=\"o\">+=</span> <span class=\"mi\">1</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">__repr__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">name</span>\n    <span class=\"n\">__str__</span> <span class=\"o\">=</span> <span class=\"n\">__repr__</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">set_name</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"n\">name</span>\n        <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">label</span><span class=\"p\">:</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">label</span> <span class=\"o\">=</span> <span class=\"n\">name</span>\n\n<div class=\"viewcode-block\" id=\"Field.handle_params\"><a class=\"viewcode-back\" href=\"../../../api/forms#lux.forms.fields.Field.handle_params\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">handle_params</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Called during initialization for handling extra key-valued</span>\n<span class=\"sd\">parameters. By default it will raise an error if extra parameters</span>\n<span class=\"sd\">are available. Override for customized behaviour.&#39;&#39;&#39;</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_raise_error</span><span class=\"p\">(</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n</div>\n<div class=\"viewcode-block\" id=\"Field.value_from_datadict\"><a class=\"viewcode-back\" href=\"../../../api/forms#lux.forms.fields.Field.value_from_datadict\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">value_from_datadict</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"p\">,</span> <span class=\"n\">files</span><span class=\"p\">,</span> <span class=\"n\">key</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;Given a dictionary of data this field name, returns the value</span>\n<span class=\"sd\">of this field. Returns None if it&#39;s not provided.</span>\n\n<span class=\"sd\">:parameter data: multi dictionary of data.</span>\n<span class=\"sd\">:parameter files: multi dictionary of files.</span>\n<span class=\"sd\">:parameter files: key for this field.</span>\n<span class=\"sd\">:return: the value for this field</span>\n<span class=\"sd\">&quot;&quot;&quot;</span>\n        <span class=\"k\">if</span> <span class=\"n\">key</span> <span class=\"ow\">in</span> <span class=\"n\">data</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"n\">data</span><span class=\"p\">[</span><span class=\"n\">key</span><span class=\"p\">]</span>\n</div>\n<div class=\"viewcode-block\" id=\"Field.value_from_instance\"><a class=\"viewcode-back\" href=\"../../../api/forms#lux.forms.fields.Field.value_from_instance\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">value_from_instance</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">instance</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Extract a value from an *instance*. By default it raises a</span>\n<span class=\"sd\">        ValueError so that the :meth:`Form.value_from_instance` is used.</span>\n<span class=\"sd\">        &#39;&#39;&#39;</span>\n        <span class=\"k\">raise</span> <span class=\"ne\">ValueError</span>\n</div>\n    <span class=\"k\">def</span> <span class=\"nf\">_raise_error</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">kwargs</span><span class=\"p\">):</span>\n        <span class=\"n\">keys</span> <span class=\"o\">=</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n        <span class=\"k\">if</span> <span class=\"n\">keys</span><span class=\"p\">:</span>\n            <span class=\"k\">raise</span> <span class=\"ne\">ValueError</span><span class=\"p\">(</span><span class=\"s\">&#39;Parameter {0} not recognized&#39;</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">keys</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]))</span>\n\n<div class=\"viewcode-block\" id=\"Field.clean\"><a class=\"viewcode-back\" href=\"../../../api/forms#lux.forms.fields.Field.clean\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">clean</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"n\">bfield</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Clean the field value&#39;&#39;&#39;</span>\n        <span class=\"k\">if</span> <span class=\"n\">value</span> <span class=\"ow\">in</span> <span class=\"n\">NOTHING</span><span class=\"p\">:</span>\n            <span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">get_default</span><span class=\"p\">(</span><span class=\"n\">bfield</span><span class=\"p\">)</span>\n            <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">required</span> <span class=\"ow\">and</span> <span class=\"n\">value</span> <span class=\"ow\">in</span> <span class=\"n\">NOTHING</span><span class=\"p\">:</span>\n                <span class=\"k\">raise</span> <span class=\"n\">ValidationError</span><span class=\"p\">(</span>\n                    <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">validation_error</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">bfield</span><span class=\"o\">.</span><span class=\"n\">label</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">))</span>\n            <span class=\"k\">elif</span> <span class=\"ow\">not</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">required</span><span class=\"p\">:</span>\n                <span class=\"k\">return</span> <span class=\"n\">value</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_clean</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"n\">bfield</span><span class=\"p\">)</span>\n</div>\n    <span class=\"k\">def</span> <span class=\"nf\">_clean</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"n\">bfield</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"n\">value</span>\n\n<div class=\"viewcode-block\" id=\"Field.get_initial\"><a class=\"viewcode-back\" href=\"../../../api/forms#lux.forms.fields.Field.get_initial\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">get_initial</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">form</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Get the initial value of field if available.</span>\n\n<span class=\"sd\">        :param form: an instance of the :class:`Form` class</span>\n<span class=\"sd\">            where the field is declared.</span>\n<span class=\"sd\">        &#39;&#39;&#39;</span>\n        <span class=\"n\">initial</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">initial</span>\n        <span class=\"k\">if</span> <span class=\"nb\">hasattr</span><span class=\"p\">(</span><span class=\"n\">initial</span><span class=\"p\">,</span> <span class=\"s\">&#39;__call__&#39;</span><span class=\"p\">):</span>\n            <span class=\"n\">initial</span> <span class=\"o\">=</span> <span class=\"n\">initial</span><span class=\"p\">(</span><span class=\"n\">form</span><span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"n\">initial</span>\n</div>\n    <span class=\"k\">def</span> <span class=\"nf\">get_default</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">bfield</span><span class=\"p\">):</span>\n        <span class=\"n\">default</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">default</span>\n        <span class=\"k\">if</span> <span class=\"nb\">hasattr</span><span class=\"p\">(</span><span class=\"n\">default</span><span class=\"p\">,</span> <span class=\"s\">&#39;__call__&#39;</span><span class=\"p\">):</span>\n            <span class=\"n\">default</span> <span class=\"o\">=</span> <span class=\"n\">default</span><span class=\"p\">(</span><span class=\"n\">bfield</span><span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"n\">default</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">model</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">None</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">html_name</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"n\">name</span>\n\n<div class=\"viewcode-block\" id=\"Field.html\"><a class=\"viewcode-back\" href=\"../../../api/forms#lux.forms.fields.Field.html\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">html</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">bfield</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Create the Html element for this :class:`Field`.&#39;&#39;&#39;</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">widget</span><span class=\"p\">(</span><span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n</div>\n<div class=\"viewcode-block\" id=\"Field.get_widget_data\"><a class=\"viewcode-back\" href=\"../../../api/forms#lux.forms.fields.Field.get_widget_data\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">get_widget_data</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">bfield</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Returns a dictionary of data to be added to the widget data</span>\n<span class=\"sd\">attribute. By default return ``None``. Override for custom behaviour.</span>\n\n<span class=\"sd\">:parameter bfield: instance of :class:`BoundField` of this field.</span>\n<span class=\"sd\">:rtype: an instance of ``dict`` or ``None``.&#39;&#39;&#39;</span>\n        <span class=\"k\">return</span> <span class=\"bp\">None</span>\n\n</div></div>\n<div class=\"viewcode-block\" id=\"CharField\"><a class=\"viewcode-back\" href=\"../../../api/forms#lux.forms.fields.CharField\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">CharField</span><span class=\"p\">(</span><span class=\"n\">Field</span><span class=\"p\">):</span>\n    <span class=\"sd\">&#39;&#39;&#39;A text :class:`Field` which introduces three</span>\n<span class=\"sd\">    optional parameter (attribute):</span>\n\n<span class=\"sd\">    .. attribute:: max_length</span>\n\n<span class=\"sd\">        If provided, the text length will be validated accordingly.</span>\n\n<span class=\"sd\">        Default ``None``.</span>\n\n<span class=\"sd\">    .. attribute:: char_transform</span>\n\n<span class=\"sd\">        One of ``None``, ``u`` for upper and ``l`` for lower. If provided</span>\n<span class=\"sd\">        converts text to upper or lower.</span>\n\n<span class=\"sd\">        Default ``None``.</span>\n\n<span class=\"sd\">    .. attribute:: toslug</span>\n\n<span class=\"sd\">        If provided it will be used to create a slug text which can be used</span>\n<span class=\"sd\">        as URI without the need to escape.</span>\n<span class=\"sd\">        For example, if ``toslug`` is set to &quot;_&quot;, than::</span>\n\n<span class=\"sd\">            bla foo; bee</span>\n\n<span class=\"sd\">        becomes::</span>\n\n<span class=\"sd\">            bla_foo_bee</span>\n\n<span class=\"sd\">        Default ``None``</span>\n<span class=\"sd\">    &#39;&#39;&#39;</span>\n    <span class=\"n\">default</span> <span class=\"o\">=</span> <span class=\"s\">&#39;&#39;</span>\n    <span class=\"n\">widget</span> <span class=\"o\">=</span> <span class=\"n\">field_widget</span><span class=\"p\">(</span><span class=\"s\">&#39;input&#39;</span><span class=\"p\">,</span> <span class=\"nb\">type</span><span class=\"o\">=</span><span class=\"s\">&#39;text&#39;</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">handle_params</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">max_length</span><span class=\"o\">=</span><span class=\"mi\">50</span><span class=\"p\">,</span> <span class=\"n\">min_length</span><span class=\"o\">=</span><span class=\"bp\">None</span><span class=\"p\">,</span>\n                      <span class=\"n\">char_transform</span><span class=\"o\">=</span><span class=\"bp\">None</span><span class=\"p\">,</span> <span class=\"n\">toslug</span><span class=\"o\">=</span><span class=\"bp\">None</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n        <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">max_length</span><span class=\"p\">:</span>\n            <span class=\"k\">raise</span> <span class=\"ne\">ValueError</span><span class=\"p\">(</span><span class=\"s\">&#39;max_length must be provided for {0}&#39;</span>\n                             <span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">__class__</span><span class=\"o\">.</span><span class=\"n\">__name__</span><span class=\"p\">))</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">min_length</span> <span class=\"o\">=</span> <span class=\"n\">min_length</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">max_length</span> <span class=\"o\">=</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">max_length</span><span class=\"p\">)</span>\n        <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">max_length</span> <span class=\"o\">&lt;=</span> <span class=\"mi\">0</span><span class=\"p\">:</span>\n            <span class=\"k\">raise</span> <span class=\"ne\">ValueError</span><span class=\"p\">(</span><span class=\"s\">&#39;max_length must be positive&#39;</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">widget_attrs</span><span class=\"p\">[</span><span class=\"s\">&#39;data-max-length&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">max_length</span>\n        <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">min_length</span><span class=\"p\">:</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">widget_attrs</span><span class=\"p\">[</span><span class=\"s\">&#39;data-min-length&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">min_length</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">char_transform</span> <span class=\"o\">=</span> <span class=\"n\">char_transform</span>\n        <span class=\"k\">if</span> <span class=\"n\">toslug</span><span class=\"p\">:</span>\n            <span class=\"k\">if</span> <span class=\"n\">toslug</span> <span class=\"ow\">is</span> <span class=\"bp\">True</span><span class=\"p\">:</span>\n                <span class=\"n\">toslug</span> <span class=\"o\">=</span> <span class=\"s\">&#39;-&#39;</span>\n            <span class=\"n\">toslug</span> <span class=\"o\">=</span> <span class=\"n\">slugify</span><span class=\"p\">(</span><span class=\"n\">toslug</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">toslug</span> <span class=\"o\">=</span> <span class=\"n\">toslug</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_raise_error</span><span class=\"p\">(</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">_clean</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"n\">bfield</span><span class=\"p\">):</span>\n        <span class=\"k\">try</span><span class=\"p\">:</span>\n            <span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"n\">to_string</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">)</span>\n        <span class=\"k\">except</span> <span class=\"ne\">Exception</span><span class=\"p\">:</span>\n            <span class=\"k\">raise</span> <span class=\"n\">ValidationError</span>\n        <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">toslug</span><span class=\"p\">:</span>\n            <span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"n\">slugify</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">toslug</span><span class=\"p\">)</span>\n        <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">char_transform</span><span class=\"p\">:</span>\n            <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">char_transform</span> <span class=\"o\">==</span> <span class=\"s\">&#39;u&#39;</span><span class=\"p\">:</span>\n                <span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"n\">value</span><span class=\"o\">.</span><span class=\"n\">upper</span><span class=\"p\">()</span>\n            <span class=\"k\">else</span><span class=\"p\">:</span>\n                <span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"n\">value</span><span class=\"o\">.</span><span class=\"n\">lower</span><span class=\"p\">()</span>\n        <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">required</span> <span class=\"ow\">and</span> <span class=\"ow\">not</span> <span class=\"n\">value</span><span class=\"p\">:</span>\n            <span class=\"k\">raise</span> <span class=\"n\">ValidationError</span><span class=\"p\">(</span>\n                <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">validation_error</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">bfield</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">))</span>\n        <span class=\"k\">return</span> <span class=\"n\">value</span>\n\n</div>\n<div class=\"viewcode-block\" id=\"IntegerField\"><a class=\"viewcode-back\" href=\"../../../api/forms#lux.forms.fields.IntegerField\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">IntegerField</span><span class=\"p\">(</span><span class=\"n\">Field</span><span class=\"p\">):</span>\n    <span class=\"n\">default</span> <span class=\"o\">=</span> <span class=\"bp\">None</span>\n    <span class=\"n\">widget</span> <span class=\"o\">=</span> <span class=\"n\">field_widget</span><span class=\"p\">(</span><span class=\"s\">&#39;input&#39;</span><span class=\"p\">,</span> <span class=\"nb\">type</span><span class=\"o\">=</span><span class=\"s\">&#39;number&#39;</span><span class=\"p\">)</span>\n    <span class=\"n\">convert_error</span> <span class=\"o\">=</span> <span class=\"s\">&#39;&quot;{0}&quot; is not a valid integer.&#39;</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">handle_params</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">validator</span><span class=\"o\">=</span><span class=\"bp\">None</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">validator</span> <span class=\"o\">=</span> <span class=\"n\">validator</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_raise_error</span><span class=\"p\">(</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">clean</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"n\">bfield</span><span class=\"p\">):</span>\n        <span class=\"k\">try</span><span class=\"p\">:</span>\n            <span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"n\">value</span><span class=\"o\">.</span><span class=\"n\">replace</span><span class=\"p\">(</span><span class=\"s\">&#39;,&#39;</span><span class=\"p\">,</span> <span class=\"s\">&#39;&#39;</span><span class=\"p\">)</span>\n        <span class=\"k\">except</span> <span class=\"ne\">AttributeError</span><span class=\"p\">:</span>\n            <span class=\"k\">pass</span>\n        <span class=\"k\">return</span> <span class=\"nb\">super</span><span class=\"p\">(</span><span class=\"n\">IntegerField</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">clean</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"n\">bfield</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">_clean</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"n\">bfield</span><span class=\"p\">):</span>\n        <span class=\"k\">try</span><span class=\"p\">:</span>\n            <span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">)</span>\n            <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">validator</span><span class=\"p\">:</span>\n                <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">validator</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">)</span>\n            <span class=\"k\">return</span> <span class=\"n\">value</span>\n        <span class=\"k\">except</span><span class=\"p\">:</span>\n            <span class=\"k\">raise</span> <span class=\"n\">ValidationError</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">convert_error</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">))</span>\n\n</div>\n<div class=\"viewcode-block\" id=\"FloatField\"><a class=\"viewcode-back\" href=\"../../../api/forms#lux.forms.fields.FloatField\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">FloatField</span><span class=\"p\">(</span><span class=\"n\">IntegerField</span><span class=\"p\">):</span>\n    <span class=\"sd\">&#39;&#39;&#39;A field which normalises to a Python float value&#39;&#39;&#39;</span>\n    <span class=\"n\">widget</span> <span class=\"o\">=</span> <span class=\"n\">field_widget</span><span class=\"p\">(</span><span class=\"s\">&#39;input&#39;</span><span class=\"p\">,</span> <span class=\"nb\">type</span><span class=\"o\">=</span><span class=\"s\">&#39;number&#39;</span><span class=\"p\">)</span>\n    <span class=\"n\">convert_error</span> <span class=\"o\">=</span> <span class=\"s\">&#39;Could not convert {0} to a valid number&#39;</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">_clean</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"n\">bfield</span><span class=\"p\">):</span>\n        <span class=\"k\">try</span><span class=\"p\">:</span>\n            <span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"nb\">float</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">)</span>\n            <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">validator</span><span class=\"p\">:</span>\n                <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">validator</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">)</span>\n            <span class=\"k\">return</span> <span class=\"n\">value</span>\n        <span class=\"k\">except</span><span class=\"p\">:</span>\n            <span class=\"k\">raise</span> <span class=\"n\">ValidationError</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">validation_error</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">bfield</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">))</span>\n\n</div>\n<div class=\"viewcode-block\" id=\"DateField\"><a class=\"viewcode-back\" href=\"../../../api/forms#lux.forms.fields.DateField\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">DateField</span><span class=\"p\">(</span><span class=\"n\">Field</span><span class=\"p\">):</span>\n    <span class=\"n\">widget</span> <span class=\"o\">=</span> <span class=\"n\">field_widget</span><span class=\"p\">(</span><span class=\"s\">&#39;input&#39;</span><span class=\"p\">,</span> <span class=\"nb\">type</span><span class=\"o\">=</span><span class=\"s\">&#39;date&#39;</span><span class=\"p\">)</span>\n    <span class=\"n\">validation_error</span> <span class=\"o\">=</span> <span class=\"s\">&#39;{1} is not a valid date.&#39;</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">_clean</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"n\">bfield</span><span class=\"p\">):</span>\n        <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"n\">date</span><span class=\"p\">):</span>\n            <span class=\"k\">try</span><span class=\"p\">:</span>\n                <span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"n\">dateparser</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">)</span>\n            <span class=\"k\">except</span><span class=\"p\">:</span>\n                <span class=\"k\">raise</span> <span class=\"n\">ValidationError</span><span class=\"p\">(</span>\n                    <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">validation_error</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">bfield</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">))</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">todate</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">todate</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">):</span>\n        <span class=\"k\">if</span> <span class=\"nb\">hasattr</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"s\">&#39;date&#39;</span><span class=\"p\">):</span>\n            <span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"n\">value</span><span class=\"o\">.</span><span class=\"n\">date</span><span class=\"p\">()</span>\n        <span class=\"k\">return</span> <span class=\"n\">value</span>\n\n</div>\n<div class=\"viewcode-block\" id=\"DateTimeField\"><a class=\"viewcode-back\" href=\"../../../api/forms#lux.forms.fields.DateTimeField\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">DateTimeField</span><span class=\"p\">(</span><span class=\"n\">DateField</span><span class=\"p\">):</span>\n    <span class=\"n\">widget</span> <span class=\"o\">=</span> <span class=\"n\">field_widget</span><span class=\"p\">(</span><span class=\"s\">&#39;input&#39;</span><span class=\"p\">,</span> <span class=\"nb\">type</span><span class=\"o\">=</span><span class=\"s\">&#39;datetime&#39;</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">todate</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">):</span>\n        <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"nb\">hasattr</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"s\">&#39;date&#39;</span><span class=\"p\">):</span>\n            <span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"n\">datetime</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"o\">.</span><span class=\"n\">year</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"o\">.</span><span class=\"n\">month</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"o\">.</span><span class=\"n\">day</span><span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"n\">value</span>\n\n</div>\n<div class=\"viewcode-block\" id=\"BooleanField\"><a class=\"viewcode-back\" href=\"../../../api/forms#lux.forms.fields.BooleanField\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">BooleanField</span><span class=\"p\">(</span><span class=\"n\">Field</span><span class=\"p\">):</span>\n    <span class=\"n\">default</span> <span class=\"o\">=</span> <span class=\"bp\">False</span>\n    <span class=\"n\">required</span> <span class=\"o\">=</span> <span class=\"bp\">False</span>\n    <span class=\"n\">widget</span> <span class=\"o\">=</span> <span class=\"n\">field_widget</span><span class=\"p\">(</span><span class=\"s\">&#39;input&#39;</span><span class=\"p\">,</span> <span class=\"nb\">type</span><span class=\"o\">=</span><span class=\"s\">&#39;checkbox&#39;</span><span class=\"p\">)</span>\n\n<div class=\"viewcode-block\" id=\"BooleanField.clean\"><a class=\"viewcode-back\" href=\"../../../api/forms#lux.forms.fields.BooleanField.clean\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">clean</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"n\">bfield</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Clean the field value&#39;&#39;&#39;</span>\n        <span class=\"k\">if</span> <span class=\"n\">value</span> <span class=\"ow\">in</span> <span class=\"p\">(</span><span class=\"s\">&#39;False&#39;</span><span class=\"p\">,</span> <span class=\"s\">&#39;0&#39;</span><span class=\"p\">):</span>\n            <span class=\"k\">return</span> <span class=\"bp\">False</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"nb\">bool</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">)</span>\n\n</div></div>\n<span class=\"k\">class</span> <span class=\"nc\">MultipleMixin</span><span class=\"p\">(</span><span class=\"n\">Field</span><span class=\"p\">):</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">handle_params</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">multiple</span><span class=\"o\">=</span><span class=\"bp\">None</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">multiple</span> <span class=\"o\">=</span> <span class=\"n\">multiple</span> <span class=\"ow\">or</span> <span class=\"bp\">False</span>\n        <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">multiple</span><span class=\"p\">:</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">widget_attrs</span><span class=\"p\">[</span><span class=\"s\">&#39;multiple&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s\">&#39;multiple&#39;</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_raise_error</span><span class=\"p\">(</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">html_name</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"n\">name</span> <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">multiple</span> <span class=\"k\">else</span> <span class=\"s\">&#39;</span><span class=\"si\">%s</span><span class=\"s\">[]&#39;</span> <span class=\"o\">%</span> <span class=\"n\">name</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">value_from_datadict</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"p\">,</span> <span class=\"n\">files</span><span class=\"p\">,</span> <span class=\"n\">key</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_value_from_datadict</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">,</span> <span class=\"n\">key</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">_value_from_datadict</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"p\">,</span> <span class=\"n\">key</span><span class=\"p\">):</span>\n        <span class=\"k\">if</span> <span class=\"n\">key</span> <span class=\"ow\">in</span> <span class=\"n\">data</span><span class=\"p\">:</span>\n            <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">multiple</span> <span class=\"ow\">and</span> <span class=\"nb\">hasattr</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">,</span> <span class=\"s\">&#39;getlist&#39;</span><span class=\"p\">):</span>\n                <span class=\"k\">return</span> <span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">getlist</span><span class=\"p\">(</span><span class=\"n\">key</span><span class=\"p\">)</span>\n            <span class=\"k\">else</span><span class=\"p\">:</span>\n                <span class=\"k\">return</span> <span class=\"n\">data</span><span class=\"p\">[</span><span class=\"n\">key</span><span class=\"p\">]</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">ChoiceFieldOptions</span><span class=\"p\">(</span><span class=\"nb\">object</span><span class=\"p\">):</span>\n    <span class=\"sd\">&#39;&#39;&#39;A class for handling :class:`ChoiceField` options. Each</span>\n<span class=\"sd\">parameters can be overridden at during initialisation. It can handle both</span>\n<span class=\"sd\">queries on models as well as list of two-elements tuples ``(value, label)``.</span>\n\n<span class=\"sd\">.. attribute:: query</span>\n\n<span class=\"sd\">    In most cases, this is the only attribute required. It can be</span>\n<span class=\"sd\">     * an iterable over two elements tuples (but not a generator).</span>\n<span class=\"sd\">     * a query on a model</span>\n<span class=\"sd\">     * ``None``</span>\n<span class=\"sd\">     * a callable returning one of the above. The callable must accept</span>\n<span class=\"sd\">       a :class:`BoundField` instance as only parameter.</span>\n<span class=\"sd\">       It can be a *generator function*.</span>\n\n<span class=\"sd\">.. attribute:: autocomplete</span>\n\n<span class=\"sd\">    An optional boolean indicating if the field is rendered as</span>\n<span class=\"sd\">    an autocomplete widget.</span>\n\n<span class=\"sd\">    Default: ``False``.</span>\n\n<span class=\"sd\">.. attribute:: multiple</span>\n\n<span class=\"sd\">    ``True`` if multiple choices are possible.</span>\n\n<span class=\"sd\">    Default: ``False``.</span>\n\n<span class=\"sd\">.. attribute:: search</span>\n\n<span class=\"sd\">    A flag indicating if the field can be used as a search input in the case</span>\n<span class=\"sd\">    no choices where made.</span>\n\n<span class=\"sd\">    Default: ``False``.</span>\n\n<span class=\"sd\">.. attribute:: empty_label</span>\n\n<span class=\"sd\">    If provided it represents an empty choice</span>\n<span class=\"sd\">&#39;&#39;&#39;</span>\n    <span class=\"n\">model</span> <span class=\"o\">=</span> <span class=\"bp\">None</span>\n    <span class=\"n\">manager</span> <span class=\"o\">=</span> <span class=\"bp\">None</span>\n    <span class=\"n\">mapper</span> <span class=\"o\">=</span> <span class=\"bp\">None</span>\n    <span class=\"n\">query</span> <span class=\"o\">=</span> <span class=\"bp\">None</span>\n    <span class=\"n\">field</span> <span class=\"o\">=</span> <span class=\"s\">&#39;id&#39;</span>\n    <span class=\"n\">search</span> <span class=\"o\">=</span> <span class=\"bp\">False</span>\n    <span class=\"n\">multiple</span> <span class=\"o\">=</span> <span class=\"bp\">False</span>\n    <span class=\"n\">autocomplete</span> <span class=\"o\">=</span> <span class=\"bp\">None</span>\n    <span class=\"n\">empty_label</span> <span class=\"o\">=</span> <span class=\"s\">&#39;-----------&#39;</span>\n    <span class=\"n\">with_empty_label</span> <span class=\"o\">=</span> <span class=\"bp\">None</span>\n    <span class=\"n\">minLength</span> <span class=\"o\">=</span> <span class=\"mi\">2</span>\n    <span class=\"n\">maxRows</span> <span class=\"o\">=</span> <span class=\"mi\">30</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">choices</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">choices</span> <span class=\"o\">=</span> <span class=\"n\">choices</span>\n        <span class=\"n\">cls</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">__class__</span>\n        <span class=\"k\">for</span> <span class=\"n\">attname</span> <span class=\"ow\">in</span> <span class=\"n\">kwargs</span><span class=\"p\">:</span>\n            <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">attname</span><span class=\"o\">.</span><span class=\"n\">startswith</span><span class=\"p\">(</span><span class=\"s\">&#39;__&#39;</span><span class=\"p\">)</span> <span class=\"ow\">and</span> <span class=\"nb\">hasattr</span><span class=\"p\">(</span><span class=\"n\">cls</span><span class=\"p\">,</span> <span class=\"n\">attname</span><span class=\"p\">):</span>\n                <span class=\"nb\">setattr</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">attname</span><span class=\"p\">,</span> <span class=\"n\">kwargs</span><span class=\"p\">[</span><span class=\"n\">attname</span><span class=\"p\">])</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">add_options</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">bfield</span><span class=\"p\">,</span> <span class=\"n\">html</span><span class=\"p\">):</span>\n        <span class=\"n\">choices</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">choices</span>\n        <span class=\"k\">if</span> <span class=\"nb\">hasattr</span><span class=\"p\">(</span><span class=\"n\">choices</span><span class=\"p\">,</span> <span class=\"s\">&#39;__call__&#39;</span><span class=\"p\">):</span>\n            <span class=\"n\">choices</span> <span class=\"o\">=</span> <span class=\"n\">choices</span><span class=\"p\">(</span><span class=\"n\">bfield</span><span class=\"p\">)</span>\n        <span class=\"k\">for</span> <span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"n\">text</span> <span class=\"ow\">in</span> <span class=\"n\">choices</span><span class=\"p\">:</span>\n            <span class=\"n\">html</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">Html</span><span class=\"p\">(</span><span class=\"s\">&#39;option&#39;</span><span class=\"p\">,</span> <span class=\"n\">text</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"o\">=</span><span class=\"n\">value</span><span class=\"p\">))</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">all</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">bfield</span><span class=\"p\">,</span> <span class=\"n\">html</span><span class=\"o\">=</span><span class=\"bp\">False</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Generator of all choices. If *html* is ``True`` it adds the</span>\n<span class=\"sd\">:attr:`empty_label`` if required.&#39;&#39;&#39;</span>\n        <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">html</span> <span class=\"ow\">and</span> <span class=\"ow\">not</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">multiple</span> <span class=\"ow\">and</span>\n                <span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">with_empty_label</span> <span class=\"ow\">or</span> <span class=\"ow\">not</span> <span class=\"n\">bfield</span><span class=\"o\">.</span><span class=\"n\">field</span><span class=\"o\">.</span><span class=\"n\">required</span><span class=\"p\">)):</span>\n            <span class=\"k\">yield</span> <span class=\"p\">(</span><span class=\"s\">&#39;&#39;</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">empty_label</span><span class=\"p\">)</span>\n        <span class=\"n\">choices</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">choices</span>\n        <span class=\"k\">if</span> <span class=\"nb\">hasattr</span><span class=\"p\">(</span><span class=\"n\">choices</span><span class=\"p\">,</span> <span class=\"s\">&#39;__call__&#39;</span><span class=\"p\">):</span>\n            <span class=\"n\">choices</span> <span class=\"o\">=</span> <span class=\"n\">choices</span><span class=\"p\">(</span><span class=\"n\">bfield</span><span class=\"p\">)</span>\n        <span class=\"c\"># The choice field is based on a model and therefore a query</span>\n        <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">mapper</span><span class=\"p\">:</span>\n            <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">autocomplete</span><span class=\"p\">:</span>\n                <span class=\"n\">query</span> <span class=\"o\">=</span> <span class=\"n\">query</span> <span class=\"k\">if</span> <span class=\"n\">query</span> <span class=\"ow\">is</span> <span class=\"ow\">not</span> <span class=\"bp\">None</span> <span class=\"k\">else</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">mapper</span><span class=\"o\">.</span><span class=\"n\">query</span><span class=\"p\">()</span>\n                <span class=\"k\">for</span> <span class=\"n\">v</span> <span class=\"ow\">in</span> <span class=\"n\">query</span><span class=\"p\">:</span>\n                    <span class=\"c\">#TODO: allow for diferent attribute name for id</span>\n                    <span class=\"k\">yield</span> <span class=\"n\">v</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"p\">,</span> <span class=\"n\">v</span>\n        <span class=\"k\">elif</span> <span class=\"n\">query</span><span class=\"p\">:</span>\n            <span class=\"k\">for</span> <span class=\"n\">v</span> <span class=\"ow\">in</span> <span class=\"n\">query</span><span class=\"p\">:</span>\n                <span class=\"k\">yield</span> <span class=\"n\">v</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">values</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">bfield</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Generator of values in select&#39;&#39;&#39;</span>\n        <span class=\"k\">for</span> <span class=\"n\">o</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">all</span><span class=\"p\">(</span><span class=\"n\">bfield</span><span class=\"p\">):</span>\n            <span class=\"k\">if</span> <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">o</span><span class=\"p\">,</span> <span class=\"n\">Widget</span><span class=\"p\">):</span>\n                <span class=\"n\">v</span> <span class=\"o\">=</span> <span class=\"n\">o</span><span class=\"o\">.</span><span class=\"n\">attr</span><span class=\"p\">(</span><span class=\"s\">&#39;value&#39;</span><span class=\"p\">)</span>\n            <span class=\"k\">else</span><span class=\"p\">:</span>\n                <span class=\"n\">v</span> <span class=\"o\">=</span> <span class=\"n\">to_string</span><span class=\"p\">(</span><span class=\"n\">o</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">])</span>\n            <span class=\"k\">yield</span> <span class=\"n\">v</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">html_value</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">val</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Convert *val* into a suitable value to be included in the</span>\n<span class=\"sd\">widget HTML.&#39;&#39;&#39;</span>\n        <span class=\"k\">if</span> <span class=\"n\">val</span><span class=\"p\">:</span>\n            <span class=\"n\">single_value</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">html_single_value</span>\n            <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">multiple</span><span class=\"p\">:</span>\n                <span class=\"n\">val</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">single_value</span><span class=\"p\">(</span><span class=\"n\">el</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">el</span> <span class=\"ow\">in</span> <span class=\"n\">val</span><span class=\"p\">)</span>\n            <span class=\"k\">else</span><span class=\"p\">:</span>\n                <span class=\"n\">val</span> <span class=\"o\">=</span> <span class=\"n\">single_value</span><span class=\"p\">(</span><span class=\"n\">val</span><span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"n\">val</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">html_single_value</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Convert the single *value* into a suitable html value&#39;&#39;&#39;</span>\n        <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">mapper</span> <span class=\"ow\">and</span> <span class=\"nb\">hasattr</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"s\">&#39;id&#39;</span><span class=\"p\">):</span>\n            <span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"n\">value</span><span class=\"o\">.</span><span class=\"n\">id</span>\n        <span class=\"k\">return</span> <span class=\"n\">value</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">get_initial</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">field</span><span class=\"p\">,</span> <span class=\"n\">form</span><span class=\"p\">):</span>\n        <span class=\"n\">initial</span> <span class=\"o\">=</span> <span class=\"n\">field</span><span class=\"o\">.</span><span class=\"n\">initial</span>\n        <span class=\"k\">if</span> <span class=\"nb\">hasattr</span><span class=\"p\">(</span><span class=\"n\">initial</span><span class=\"p\">,</span> <span class=\"s\">&#39;__call__&#39;</span><span class=\"p\">):</span>\n            <span class=\"n\">initial</span> <span class=\"o\">=</span> <span class=\"n\">initial</span><span class=\"p\">(</span><span class=\"n\">form</span><span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"n\">initial</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">value_from_instance</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">field</span><span class=\"p\">,</span> <span class=\"n\">instance</span><span class=\"p\">):</span>\n        <span class=\"k\">raise</span> <span class=\"ne\">ValueError</span><span class=\"p\">()</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">url</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">request</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Retrieve a url for search.&#39;&#39;&#39;</span>\n        <span class=\"k\">return</span> <span class=\"bp\">None</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">clean</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"n\">bfield</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Perform the cleaning of *value* for the :class:`BoundField`</span>\n<span class=\"sd\">instance *bfield*. The :meth:`ChoiceField.clean` uses this method to</span>\n<span class=\"sd\">clean its values.&#39;&#39;&#39;</span>\n        <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">manager</span><span class=\"p\">:</span>\n            <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">multiple</span><span class=\"p\">:</span>\n                <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_clean_multiple_model_value</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"n\">bfield</span><span class=\"p\">)</span>\n            <span class=\"k\">else</span><span class=\"p\">:</span>\n                <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_clean_model_value</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"n\">bfield</span><span class=\"p\">)</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_clean_simple</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"n\">bfield</span><span class=\"p\">)</span>\n\n    <span class=\"c\">#    INTERNALS</span>\n    <span class=\"k\">def</span> <span class=\"nf\">_clean_simple</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"n\">bfield</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Invoked by :meth:`clean` if :attr:`model` is not defined.&#39;&#39;&#39;</span>\n        <span class=\"n\">choices</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">choices</span>\n        <span class=\"k\">if</span> <span class=\"nb\">hasattr</span><span class=\"p\">(</span><span class=\"n\">choices</span><span class=\"p\">,</span> <span class=\"s\">&#39;__call__&#39;</span><span class=\"p\">):</span>\n            <span class=\"n\">choices</span> <span class=\"o\">=</span> <span class=\"n\">choices</span><span class=\"p\">(</span><span class=\"n\">bfield</span><span class=\"p\">)</span>\n        <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">choices</span><span class=\"p\">,</span> <span class=\"n\">Mapping</span><span class=\"p\">):</span>\n            <span class=\"n\">choices</span> <span class=\"o\">=</span> <span class=\"nb\">dict</span><span class=\"p\">(</span><span class=\"n\">choices</span><span class=\"p\">)</span>\n        <span class=\"n\">values</span> <span class=\"o\">=</span> <span class=\"n\">value</span> <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">multiple</span> <span class=\"k\">else</span> <span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">,)</span>\n        <span class=\"k\">for</span> <span class=\"n\">v</span> <span class=\"ow\">in</span> <span class=\"n\">values</span><span class=\"p\">:</span>\n            <span class=\"n\">v</span> <span class=\"o\">=</span> <span class=\"n\">to_string</span><span class=\"p\">(</span><span class=\"n\">v</span><span class=\"p\">)</span>\n            <span class=\"k\">if</span> <span class=\"n\">v</span> <span class=\"ow\">not</span> <span class=\"ow\">in</span> <span class=\"n\">choices</span><span class=\"p\">:</span>\n                <span class=\"k\">raise</span> <span class=\"n\">ValidationError</span><span class=\"p\">(</span><span class=\"s\">&#39;</span><span class=\"si\">%s</span><span class=\"s\"> is not a valid choice&#39;</span> <span class=\"o\">%</span> <span class=\"n\">v</span><span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"n\">value</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">_clean_model_value</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"n\">bfield</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Invoked by :meth:`clean` if :attr:`model` is defined</span>\n<span class=\"sd\">and :attr:`multiple` is ``False``. It return an instance of :attr:`model`</span>\n<span class=\"sd\">otherwise it raises a validation exception unless :attr:`search`</span>\n<span class=\"sd\">is ``True``, in which case the value is returned.&#39;&#39;&#39;</span>\n        <span class=\"k\">if</span> <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">model</span><span class=\"p\">):</span>\n            <span class=\"k\">return</span> <span class=\"n\">value</span>\n        <span class=\"n\">mapper</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">mapper</span>\n        <span class=\"k\">try</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">mapper</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"o\">**</span><span class=\"p\">{</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">field</span><span class=\"p\">:</span> <span class=\"n\">value</span><span class=\"p\">})</span>\n        <span class=\"k\">except</span> <span class=\"p\">(</span><span class=\"n\">mapper</span><span class=\"o\">.</span><span class=\"n\">DoesNotExist</span><span class=\"p\">,</span> <span class=\"n\">mapper</span><span class=\"o\">.</span><span class=\"n\">FieldValueError</span><span class=\"p\">):</span>\n            <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">search</span><span class=\"p\">:</span>\n                <span class=\"c\"># if search is allowed, return the value</span>\n                <span class=\"k\">return</span> <span class=\"n\">value</span>\n            <span class=\"k\">else</span><span class=\"p\">:</span>\n                <span class=\"k\">raise</span> <span class=\"n\">ValidationError</span><span class=\"p\">(</span>\n                    <span class=\"s\">&#39;{0} is not a valid {1}&#39;</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">mapper</span><span class=\"p\">))</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">_clean_multiple_model_value</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"n\">bfield</span><span class=\"p\">):</span>\n        <span class=\"n\">field</span> <span class=\"o\">=</span> <span class=\"s\">&#39;{0}__in&#39;</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">field</span><span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">mapper</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"o\">**</span><span class=\"p\">{</span><span class=\"n\">field</span><span class=\"p\">:</span> <span class=\"n\">value</span><span class=\"p\">})</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">widget_value</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">):</span>\n        <span class=\"n\">model</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">model</span>\n        <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">value</span> <span class=\"ow\">or</span> <span class=\"ow\">not</span> <span class=\"n\">model</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"n\">value</span>\n        <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">multiple</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"p\">[</span><span class=\"n\">v</span><span class=\"o\">.</span><span class=\"n\">id</span> <span class=\"k\">if</span> <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">v</span><span class=\"p\">,</span> <span class=\"n\">model</span><span class=\"p\">)</span> <span class=\"k\">else</span> <span class=\"n\">v</span> <span class=\"k\">for</span> <span class=\"n\">v</span> <span class=\"ow\">in</span> <span class=\"n\">value</span><span class=\"p\">]</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"n\">value</span><span class=\"o\">.</span><span class=\"n\">id</span> <span class=\"k\">if</span> <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"n\">model</span><span class=\"p\">)</span> <span class=\"k\">else</span> <span class=\"n\">value</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">get_widget_data</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">bfield</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Called by the :meth:`Field.get_widget_data` method of</span>\n<span class=\"sd\">:class:`ChoiceField`.&#39;&#39;&#39;</span>\n        <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">autocomplete</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span>\n        <span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"n\">bfield</span><span class=\"o\">.</span><span class=\"n\">value</span>\n        <span class=\"n\">ch</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">all</span><span class=\"p\">(</span><span class=\"n\">bfield</span><span class=\"p\">)</span>\n        <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"nb\">hasattr</span><span class=\"p\">(</span><span class=\"n\">ch</span><span class=\"p\">,</span> <span class=\"s\">&#39;__len__&#39;</span><span class=\"p\">):</span>\n            <span class=\"n\">ch</span> <span class=\"o\">=</span> <span class=\"nb\">tuple</span><span class=\"p\">(</span><span class=\"n\">ch</span><span class=\"p\">)</span>\n        <span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s\">&#39;multiple&#39;</span><span class=\"p\">:</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">multiple</span><span class=\"p\">,</span>\n                <span class=\"s\">&#39;minlength&#39;</span><span class=\"p\">:</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">minLength</span><span class=\"p\">,</span>\n                <span class=\"s\">&#39;maxrows&#39;</span><span class=\"p\">:</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">maxRows</span><span class=\"p\">,</span>\n                <span class=\"s\">&#39;search_string&#39;</span><span class=\"p\">:</span> <span class=\"n\">bfield</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">,</span>\n                <span class=\"s\">&#39;url&#39;</span><span class=\"p\">:</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">url</span><span class=\"p\">(</span><span class=\"n\">bfield</span><span class=\"o\">.</span><span class=\"n\">request</span><span class=\"p\">),</span>\n                <span class=\"s\">&#39;choices&#39;</span><span class=\"p\">:</span> <span class=\"n\">ch</span><span class=\"p\">}</span>\n        <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">model</span><span class=\"p\">:</span>\n            <span class=\"k\">if</span> <span class=\"n\">value</span><span class=\"p\">:</span>\n                <span class=\"n\">initial</span> <span class=\"o\">=</span> <span class=\"bp\">None</span>\n                <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">multiple</span><span class=\"p\">:</span>\n                    <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">model</span><span class=\"p\">):</span>\n                        <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">search</span><span class=\"p\">:</span>\n                            <span class=\"n\">initial</span> <span class=\"o\">=</span> <span class=\"p\">[(</span><span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">)]</span>\n                    <span class=\"k\">else</span><span class=\"p\">:</span>\n                        <span class=\"n\">initial</span> <span class=\"o\">=</span> <span class=\"p\">[(</span><span class=\"n\">value</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"p\">,</span> <span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">))]</span>\n                <span class=\"k\">else</span><span class=\"p\">:</span>\n                    <span class=\"n\">initial</span> <span class=\"o\">=</span> <span class=\"p\">[(</span><span class=\"n\">v</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"p\">,</span> <span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"n\">v</span><span class=\"p\">))</span> <span class=\"k\">for</span> <span class=\"n\">v</span> <span class=\"ow\">in</span> <span class=\"n\">value</span><span class=\"p\">]</span>\n                <span class=\"n\">data</span><span class=\"p\">[</span><span class=\"s\">&#39;initial_value&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">initial</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"k\">if</span> <span class=\"n\">value</span><span class=\"p\">:</span>\n                <span class=\"n\">chd</span> <span class=\"o\">=</span> <span class=\"nb\">dict</span><span class=\"p\">(</span><span class=\"n\">ch</span><span class=\"p\">)</span>\n                <span class=\"n\">values</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n                <span class=\"k\">for</span> <span class=\"n\">val</span> <span class=\"ow\">in</span> <span class=\"n\">value</span><span class=\"o\">.</span><span class=\"n\">split</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">separator</span><span class=\"p\">):</span>\n                    <span class=\"k\">if</span> <span class=\"n\">val</span> <span class=\"ow\">in</span> <span class=\"n\">chd</span><span class=\"p\">:</span>\n                        <span class=\"n\">values</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">((</span><span class=\"n\">val</span><span class=\"p\">,</span> <span class=\"n\">chd</span><span class=\"p\">[</span><span class=\"n\">val</span><span class=\"p\">]))</span>\n                <span class=\"k\">if</span> <span class=\"n\">values</span><span class=\"p\">:</span>\n                    <span class=\"n\">data</span><span class=\"p\">[</span><span class=\"s\">&#39;initial_value&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">values</span>\n        <span class=\"k\">return</span> <span class=\"p\">{</span><span class=\"s\">&#39;options&#39;</span><span class=\"p\">:</span> <span class=\"n\">data</span><span class=\"p\">}</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">ChoiceField</span><span class=\"p\">(</span><span class=\"n\">MultipleMixin</span><span class=\"p\">,</span> <span class=\"n\">Field</span><span class=\"p\">):</span>\n    <span class=\"sd\">&#39;&#39;&#39;A :class:`Field` which validates against a set of ``choices``.</span>\n\n<span class=\"sd\">    It has several additional attributes which can be specified</span>\n<span class=\"sd\">    via the :class:`ChoiceFieldOptions` class.</span>\n\n<span class=\"sd\">    .. attribute:: choices</span>\n\n<span class=\"sd\">        An instance of :class:`ChoiceFieldOptions` or any of the</span>\n<span class=\"sd\">        possible values for the :attr:`ChoiceFieldOptions.query`</span>\n<span class=\"sd\">        attribute.</span>\n<span class=\"sd\">    &#39;&#39;&#39;</span>\n    <span class=\"k\">def</span> <span class=\"nf\">html</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">bfield</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">params</span><span class=\"p\">):</span>\n        <span class=\"n\">html</span> <span class=\"o\">=</span> <span class=\"n\">Html</span><span class=\"p\">(</span><span class=\"s\">&#39;select&#39;</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">params</span><span class=\"p\">)</span>\n        <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">multiple</span><span class=\"p\">:</span>\n            <span class=\"n\">html</span><span class=\"o\">.</span><span class=\"n\">attr</span><span class=\"p\">(</span><span class=\"s\">&#39;multiple&#39;</span><span class=\"p\">,</span> <span class=\"s\">&#39;multiple&#39;</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">choices</span><span class=\"o\">.</span><span class=\"n\">html</span><span class=\"p\">(</span><span class=\"n\">html</span><span class=\"p\">,</span> <span class=\"n\">bfield</span><span class=\"o\">.</span><span class=\"n\">value</span><span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"n\">html</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">get_initial</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">form</span><span class=\"p\">):</span>\n        <span class=\"n\">initial</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">initial</span>\n        <span class=\"k\">if</span> <span class=\"nb\">hasattr</span><span class=\"p\">(</span><span class=\"n\">initial</span><span class=\"p\">,</span> <span class=\"s\">&#39;__call__&#39;</span><span class=\"p\">):</span>\n            <span class=\"n\">initial</span> <span class=\"o\">=</span> <span class=\"n\">initial</span><span class=\"p\">(</span><span class=\"n\">form</span><span class=\"p\">)</span>\n        <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">initial</span><span class=\"p\">:</span>\n            <span class=\"n\">initial</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">choices</span><span class=\"o\">.</span><span class=\"n\">get_initial</span><span class=\"p\">(</span><span class=\"n\">form</span><span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"n\">initial</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">value_from_instance</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">instance</span><span class=\"p\">):</span>\n        <span class=\"c\"># Delegate to choices</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">choices</span><span class=\"o\">.</span><span class=\"n\">value_from_instance</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">instance</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">handle_params</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">choices</span><span class=\"o\">=</span><span class=\"bp\">None</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n        <span class=\"sd\">&#39;&#39;&#39;Choices is an iterable or a callable which takes bound field</span>\n<span class=\"sd\">        as only argument&#39;&#39;&#39;</span>\n        <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">choices</span><span class=\"p\">,</span> <span class=\"n\">Choice</span><span class=\"p\">):</span>\n            <span class=\"n\">choices</span> <span class=\"o\">=</span> <span class=\"n\">Choice</span><span class=\"p\">(</span><span class=\"n\">choices</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">choices</span> <span class=\"o\">=</span> <span class=\"n\">choices</span>\n        <span class=\"nb\">super</span><span class=\"p\">(</span><span class=\"n\">ChoiceField</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">handle_params</span><span class=\"p\">(</span><span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">_clean</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"n\">bfield</span><span class=\"p\">):</span>\n        <span class=\"k\">if</span> <span class=\"n\">value</span> <span class=\"ow\">is</span> <span class=\"ow\">not</span> <span class=\"bp\">None</span><span class=\"p\">:</span>\n            <span class=\"n\">values</span> <span class=\"o\">=</span> <span class=\"n\">value</span> <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">multiple</span> <span class=\"k\">else</span> <span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">,)</span>\n            <span class=\"n\">values</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">choices</span><span class=\"o\">.</span><span class=\"n\">clean</span><span class=\"p\">(</span><span class=\"n\">values</span><span class=\"p\">,</span> <span class=\"n\">bfield</span><span class=\"p\">)</span>\n            <span class=\"k\">return</span> <span class=\"n\">values</span> <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">multiple</span> <span class=\"k\">else</span> <span class=\"n\">values</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n        <span class=\"k\">return</span> <span class=\"n\">value</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">EmailField</span><span class=\"p\">(</span><span class=\"n\">CharField</span><span class=\"p\">):</span>\n    <span class=\"n\">widget</span> <span class=\"o\">=</span> <span class=\"n\">field_widget</span><span class=\"p\">(</span><span class=\"s\">&#39;input&#39;</span><span class=\"p\">,</span> <span class=\"nb\">type</span><span class=\"o\">=</span><span class=\"s\">&#39;email&#39;</span><span class=\"p\">)</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">PasswordField</span><span class=\"p\">(</span><span class=\"n\">CharField</span><span class=\"p\">):</span>\n    <span class=\"n\">widget</span> <span class=\"o\">=</span> <span class=\"n\">field_widget</span><span class=\"p\">(</span><span class=\"s\">&#39;input&#39;</span><span class=\"p\">,</span> <span class=\"nb\">type</span><span class=\"o\">=</span><span class=\"s\">&#39;password&#39;</span><span class=\"p\">)</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">UrlField</span><span class=\"p\">(</span><span class=\"n\">CharField</span><span class=\"p\">):</span>\n    <span class=\"n\">widget</span> <span class=\"o\">=</span> <span class=\"n\">field_widget</span><span class=\"p\">(</span><span class=\"s\">&#39;input&#39;</span><span class=\"p\">,</span> <span class=\"nb\">type</span><span class=\"o\">=</span><span class=\"s\">&#39;url&#39;</span><span class=\"p\">)</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">FileField</span><span class=\"p\">(</span><span class=\"n\">MultipleMixin</span><span class=\"p\">,</span> <span class=\"n\">Field</span><span class=\"p\">):</span>\n    <span class=\"n\">widget</span> <span class=\"o\">=</span> <span class=\"n\">field_widget</span><span class=\"p\">(</span><span class=\"s\">&#39;input&#39;</span><span class=\"p\">,</span> <span class=\"nb\">type</span><span class=\"o\">=</span><span class=\"s\">&#39;file&#39;</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">value_from_datadict</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"p\">,</span> <span class=\"n\">files</span><span class=\"p\">,</span> <span class=\"n\">key</span><span class=\"p\">):</span>\n        <span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_value_from_datadict</span><span class=\"p\">(</span><span class=\"n\">files</span><span class=\"p\">,</span> <span class=\"n\">key</span><span class=\"p\">)</span>\n        <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">multiple</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"p\">[</span><span class=\"n\">File</span><span class=\"p\">(</span><span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">file</span><span class=\"p\">,</span> <span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">filename</span><span class=\"p\">,</span> <span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">content_type</span><span class=\"p\">,</span> <span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">size</span><span class=\"p\">)</span>\n                    <span class=\"k\">for</span> <span class=\"n\">d</span> <span class=\"ow\">in</span> <span class=\"n\">res</span><span class=\"p\">]</span>\n        <span class=\"k\">elif</span> <span class=\"n\">res</span><span class=\"p\">:</span>\n            <span class=\"n\">d</span> <span class=\"o\">=</span> <span class=\"n\">res</span>\n            <span class=\"k\">return</span> <span class=\"n\">File</span><span class=\"p\">(</span><span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">file</span><span class=\"p\">,</span> <span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">filename</span><span class=\"p\">,</span> <span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">content_type</span><span class=\"p\">,</span> <span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">size</span><span class=\"p\">)</span>\n\n\n<div class=\"viewcode-block\" id=\"HiddenField\"><a class=\"viewcode-back\" href=\"../../../api/forms#lux.forms.fields.HiddenField\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">HiddenField</span><span class=\"p\">(</span><span class=\"n\">CharField</span><span class=\"p\">):</span>\n    <span class=\"n\">widget</span> <span class=\"o\">=</span> <span class=\"n\">field_widget</span><span class=\"p\">(</span><span class=\"s\">&#39;input&#39;</span><span class=\"p\">,</span> <span class=\"nb\">type</span><span class=\"o\">=</span><span class=\"s\">&#39;hidden&#39;</span><span class=\"p\">)</span></div>\n</pre></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class='small hidden-print text-muted' id='page-footer'>\n    <div class='container'>\n        <div class='row'>\n            <div class='block col-sm-5'>\n                <div class='hidden-xs'>\n                    <ul class=\"fa-ul text-left\">\n    <li><i class=\"fa-li fa fa-copyright\"></i>2014 <a href=\"http://quantmind.com\">Quantmind</a></li>\n    <li>Site build with Lux on python 3.4.1</li>\n    <li>Docs build with <a href=\"http://sphinx-doc.org/\" target=\"_blank\">Sphinx</a></li>\n    <li><a href=\"http://quantmind.github.io/lux/docs/changelog\">Changelog</a></li>\n    <li><a href=\"http://quantmind.github.io/lux/docs/api/\">API</a></li>\n    <li><a href=\"http://quantmind.github.io/lux/docs/EXTENSIONS/\">Extensions</a></li>\n    <li><a href=\"http://quantmind.github.io/lux/images\">Images</a></li>\n</ul>\n                </div>\n                <div class='text-center visible-xs'>\n                    <ul class=\"fa-ul text-left\">\n    <li><i class=\"fa-li fa fa-copyright\"></i>2014 <a href=\"http://quantmind.com\">Quantmind</a></li>\n    <li>Site build with Lux on python 3.4.1</li>\n    <li>Docs build with <a href=\"http://sphinx-doc.org/\" target=\"_blank\">Sphinx</a></li>\n    <li><a href=\"http://quantmind.github.io/lux/docs/changelog\">Changelog</a></li>\n    <li><a href=\"http://quantmind.github.io/lux/docs/api/\">API</a></li>\n    <li><a href=\"http://quantmind.github.io/lux/docs/EXTENSIONS/\">Extensions</a></li>\n    <li><a href=\"http://quantmind.github.io/lux/images\">Images</a></li>\n</ul>\n                </div>\n            </div>\n            <div class='block col-sm-2 text-center'>\n                <div class='hidden-xs'>\n                    <p><a href='#top' title=\"Lux\" class=\"hover-opacity\">\n    <img height=50 title='Lux' src='http://quantmind.github.io/lux/media/luxsite/lux.png' alt='Lux'>\n</a></p>\n                </div>\n                <div class='visible-xs'>\n                    <p><a href='https://twitter.com/quantmind' title='Follow quantmind on twitter'>\n<i class='fa fa-twitter fa-2x'></i></a>\n<a href='https://plus.google.com/+QuantmindPlus' title='Follow quantmind on google+'>\n<i class='fa fa-google-plus-square fa-2x'></i></a>\n<a href='https://www.facebook.com/quantmind' title='Follow quantmind on facebook'>\n<i class='fa fa-facebook-square fa-2x'></i></a>\n<a href='https://github.com/quantmind/lux' title='Lux on github'>\n<i class='fa fa-github fa-2x'></i></a></p>\n                </div>\n            </div>\n            <div class='block col-sm-5'>\n                <div class='text-right hidden-xs'>\n                    <p><a href='https://twitter.com/quantmind' title='Follow quantmind on twitter'>\n<i class='fa fa-twitter fa-2x'></i></a>\n<a href='https://plus.google.com/+QuantmindPlus' title='Follow quantmind on google+'>\n<i class='fa fa-google-plus-square fa-2x'></i></a>\n<a href='https://www.facebook.com/quantmind' title='Follow quantmind on facebook'>\n<i class='fa fa-facebook-square fa-2x'></i></a>\n<a href='https://github.com/quantmind/lux' title='Lux on github'>\n<i class='fa fa-github fa-2x'></i></a></p>\n                </div>\n                <div class='text-center visible-xs'>\n                    <p><a href='#top' title=\"Lux\" class=\"hover-opacity\">\n    <img height=50 title='Lux' src='http://quantmind.github.io/lux/media/luxsite/lux.png' alt='Lux'>\n</a></p>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>"}, "site": {"lux_version": "0.1.0-alpha.1", "template_engine": null, "date": "2014-10-14T10-48-59", "name": "Lux", "template": "doc.html", "python_version": "3.4.1", "media": "/media", "url": "http://quantmind.github.io/lux", "year": 2014}, "head": {}, "html_url": "http://quantmind.github.io/lux/docs/modules/lux/forms/fields", "api_url": "http://quantmind.github.io/lux/jsonapi/docs/modules/lux/forms/fields"}