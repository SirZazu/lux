<!DOCTYPE html>
<html data-debug='false' data-icon='fontawesome' data-ng-controller='page' data-ng-model='page' lang='en'>
<head>
<title>Lux - web toolkit for python and angularJS</title>
<meta charset='utf-8'>
<meta content='IE=edge' http-equiv='X-UA-Compatible'>
<meta content='width=device-width, initial-scale=1' name='viewport'>
<link href='http://quantmind.github.io/lux/media/luxsite/favicon.ico' rel='icon' type='image/x-icon'>
<link href='//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.2.0/css/bootstrap.min.css' rel='stylesheet' type='text/css'>
<link href='//netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css' rel='stylesheet' type='text/css'>
<link href='http://quantmind.github.io/lux/media/luxsite/lux-114.png' rel='apple-touch-icon' sizes='57x57' type='text/css'>
<link href='http://quantmind.github.io/lux/media/luxsite/lux-114.png' rel='apple-touch-icon' sizes='114x114' type='text/css'>
<link href='http://quantmind.github.io/lux/media/luxsite/lux-144.png' rel='apple-touch-icon' sizes='72x72' type='text/css'>
<link href='http://quantmind.github.io/lux/media/luxsite/lux-144.png' rel='apple-touch-icon' sizes='144x144' type='text/css'>
<link href='http://quantmind.github.io/lux/media/luxsite/luxsite.min.css' rel='stylesheet' type='text/css'>
<script type='text/javascript'>
var context={"site_media": "/media", "site_lux_version": "0.1.0-alpha.1", "site_year": 2014, "site_url": "http://quantmind.github.io/lux", "navbarCollapseWidth": 768, "site_python_version": "3.4.1", "apiUrls": {}, "site_date": "2014 Sep 20", "site_name": "Lux"};</script>
<script type="text/javascript">
var require = {"deps": ["lux"], "paths": {"holder": "//cdnjs.cloudflare.com/ajax/libs/holder/2.3.1/holder.min", "jquery-cookie": "//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.3.1/jquery.cookie.min", "socket.io": "//cdnjs.cloudflare.com/ajax/libs/socket.io/0.9.10/socket.io.min", "mathjax": "//cdn.mathjax.org/mathjax/latest/MathJax.js.min?config=TeX-AMS-MML_HTMLorMML", "angular": "//ajax.googleapis.com/ajax/libs/angularjs/1.2.21/angular.min", "restangular": "//cdnjs.cloudflare.com/ajax/libs/restangular/1.4.0/restangular.min", "aws": "//sdk.amazonaws.com/js/aws-sdk-2.0.0-rc13.min", "fontawesome": "//netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min", "require": "//cdnjs.cloudflare.com/ajax/libs/require.js/2.1.14/require.min", "nvd3": "//cdnjs.cloudflare.com/ajax/libs/nvd3/1.1.15-beta/nv.d3.min", "codemirror": "//cdnjs.cloudflare.com/ajax/libs/codemirror/3.21.0/codemirror.min", "lorem": "http://quantmind.github.io/lux/media/lux/lorem.min", "angular-route": "//ajax.googleapis.com/ajax/libs/angularjs/1.2.21/angular-route.min", "jquery": "//code.jquery.com/jquery-1.11.1.min", "angular-animate": "//ajax.googleapis.com/ajax/libs/angularjs/1.2.21/angular-animate.min", "lodash": "//cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.min", "json": "//cdnjs.cloudflare.com/ajax/libs/json3/3.2.4/json3.min", "select": "//cdnjs.cloudflare.com/ajax/libs/select2/3.4.5/select2.min", "gridster": "//cdnjs.cloudflare.com/ajax/libs/jquery.gridster/0.2.1/jquery.gridster.min", "d3": "//cdnjs.cloudflare.com/ajax/libs/d3/3.4.11/d3.min", "moment": "//cdnjs.cloudflare.com/ajax/libs/moment.js/2.5.1/moment.min", "bootstrap": "//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.2.0/js/bootstrap.min", "angular-sanitize": "//ajax.googleapis.com/ajax/libs/angularjs/1.2.21/angular-sanitize.min", "bootstrap_css": "//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.2.0/css/bootstrap.min", "ng-grid": "http://ui-grid.info/release/ui-grid-unstable.min", "showdown": "//cdnjs.cloudflare.com/ajax/libs/showdown/0.3.1/showdown.min", "sockjs": "//cdnjs.cloudflare.com/ajax/libs/sockjs-client/0.3.4/sockjs.min", "angular-mocks": "//ajax.googleapis.com/ajax/libs/angularjs/1.2.21/angular-mocks.min", "typeahead": "//cdnjs.cloudflare.com/ajax/libs/typeahead.js/0.9.2/typeahead.min", "topojson": "//cdnjs.cloudflare.com/ajax/libs/topojson/1.1.0/topojson.min", "jquery-form": "//cdnjs.cloudflare.com/ajax/libs/jquery.form/3.32/jquery.form.min", "lux": "http://quantmind.github.io/lux/media/lux/lux", "kineticjs": "//cdnjs.cloudflare.com/ajax/libs/kineticjs/4.6.0/kinetic.min", "mustache": "//cdnjs.cloudflare.com/ajax/libs/mustache.js/0.7.2/mustache.min", "nvd3_css": "//cdnjs.cloudflare.com/ajax/libs/nvd3/1.1.15-beta/nv.d3.min", "prettify": "//cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min"}, "shim": {"ng-grid": {"deps": ["angular"]}, "nvd3": {"deps": ["d3"]}, "bootstrap": {"deps": ["jquery"]}, "angular-sanitize": {"deps": ["angular"]}, "jquery-form": {"deps": ["jquery"]}, "angular-route": {"deps": ["angular"]}, "jquery-cookies": {"deps": ["jquery"]}, "angular-mocks": {"deps": ["angular"]}, "qunit": {"deps": ["jquery"], "exports": "QUnit"}, "restangular": {"deps": ["angular", "lodash"]}, "angular-animate": {"deps": ["angular"]}, "parsley": {"deps": ["jquery"]}, "select": {"deps": ["jquery"]}}, "waitSeconds": 200},
    media_path = "http://quantmind.github.io/lux/media/";
</script>
<script src='//cdnjs.cloudflare.com/ajax/libs/require.js/2.1.14/require.min.js' type='application/javascript'></script>
</head>
<body>
<section id="page-header" class="page-header-outer $slug-header">
    <div class="layer">
        <div class="page-header">
            <div class="container fullpage">
                <div class="row fullpage">
                    <div class="col-sm-12 text-center">
                        $breadcrumbs
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<div id="page-main">
    <div class="container">
        <div class="row">
            <div class="$slug-main col-md-12">
                <div class="center-block" style="max-width: 900px">
                    <div class="body">
 <h1>
  Source code for lux.extensions.ui.lib.mixins
 </h1>
 <div class="highlight">
  <pre>
<span class="sd">'''</span>
<span class="sd">Bcd</span>
<span class="sd">~~~~~</span>
<span class="sd">.. autoclass:: Bcd</span>

<span class="sd">Border</span>
<span class="sd">~~~~~~~~~</span>
<span class="sd">.. autoclass:: Border</span>

<span class="sd">BoxSizing</span>
<span class="sd">~~~~~~~~~~~~~~~</span>
<span class="sd">.. autoclass:: BoxSizing</span>

<span class="sd">Clearfix</span>
<span class="sd">~~~~~~~~~</span>
<span class="sd">.. autoclass:: Clearfix</span>

<span class="sd">Clickable</span>
<span class="sd">~~~~~~~~~~~~</span>
<span class="sd">.. autoclass:: Clickable</span>

<span class="sd">CssInclude</span>
<span class="sd">~~~~~~~~~~~~~</span>
<span class="sd">.. autoclass:: CssInclude</span>

<span class="sd">Fontface</span>
<span class="sd">~~~~~~~~~~~~~~</span>
<span class="sd">.. autoclass:: Fontface</span>

<span class="sd">Gradient</span>
<span class="sd">~~~~~~~~~~~~~~~</span>
<span class="sd">.. autoclass:: Gradient</span>


<span class="sd">Opacity</span>
<span class="sd">~~~~~~~~~</span>
<span class="sd">.. autoclass:: Opacity</span>

<span class="sd">Radius</span>
<span class="sd">~~~~~~~~~</span>
<span class="sd">.. autoclass:: Radius</span>

<span class="sd">Shadow</span>
<span class="sd">~~~~~~~~</span>
<span class="sd">.. autoclass:: Shadow</span>

<span class="sd">Stack</span>
<span class="sd">~~~~~~~</span>
<span class="sd">.. autoclass:: Stack</span>

<span class="sd">Transition</span>
<span class="sd">~~~~~~~~~~~~~~~~~</span>
<span class="sd">.. autoclass:: Transition</span>
<span class="sd">'''</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="kn">from</span> <span class="nn">.base</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">.colorvar</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span><span class="s">'Opacity'</span><span class="p">,</span>
           <span class="s">'Clearfix'</span><span class="p">,</span>
           <span class="s">'InlineBlock'</span><span class="p">,</span>
           <span class="s">'Textoverflow'</span><span class="p">,</span>
           <span class="s">'clear_anchor'</span><span class="p">,</span>
           <span class="s">'fixtop'</span><span class="p">,</span>
           <span class="s">'unfixtop'</span><span class="p">,</span>
           <span class="s">'Border'</span><span class="p">,</span>
           <span class="s">'Shadow'</span><span class="p">,</span>
           <span class="s">'BoxSizing'</span><span class="p">,</span>
           <span class="s">'Radius'</span><span class="p">,</span>
           <span class="s">'Background'</span><span class="p">,</span>
           <span class="s">'Gradient'</span><span class="p">,</span>
           <span class="s">'gradient'</span><span class="p">,</span>
           <span class="s">'Placeholder'</span><span class="p">,</span>
           <span class="s">'Bcd'</span><span class="p">,</span>
           <span class="s">'bcd'</span><span class="p">,</span>
           <span class="s">'Clickable'</span><span class="p">,</span>
           <span class="s">'Transition'</span><span class="p">,</span>
           <span class="s">'horizontal_navigation'</span><span class="p">,</span>
           <span class="c"># generators</span>
           <span class="s">'CssInclude'</span><span class="p">,</span>
           <span class="s">'Image'</span><span class="p">,</span>
           <span class="s">'Fontface'</span><span class="p">,</span>
           <span class="s">'Stack'</span><span class="p">]</span>

<span class="c">############################################################################</span>
<span class="c">##    BATTERY INCLUDED MIXINS</span>
<span class="c">############################################################################</span>


<span class="c">################################################# OPACITY</span>
<div class="viewcode-block" id="Opacity"><a class="viewcode-back" href="../../../../../extensions/ui.html#lux.extensions.ui.lib.mixins.Opacity">[docs]</a><span class="k">class</span> <span class="nc">Opacity</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>
    <span class="sd">'''Add opacity to an element.</span>

<span class="sd">param o: a number between 0 and 1.</span>
<span class="sd">'''</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">o</span> <span class="o">=</span> <span class="n">o</span>

    <span class="k">def</span> <span class="nf">value</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">o</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">apply</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'opacity'</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'filter'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'alpha(opacity=</span><span class="si">%s</span><span class="s">)'</span> <span class="o">%</span> <span class="p">(</span><span class="mi">100</span><span class="o">*</span><span class="n">value</span><span class="p">)</span>


<span class="c">################################################# CLEARFIX</span></div>
<div class="viewcode-block" id="Clearfix"><a class="viewcode-back" href="../../../../../extensions/ui.html#lux.extensions.ui.lib.mixins.Clearfix">[docs]</a><span class="k">class</span> <span class="nc">Clearfix</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>
    <span class="sd">'''A ``clearfix`` is a way for an element to automatically clear after</span>
<span class="sd">itself, so that you don't need to add additional markup.</span>
<span class="sd">It's generally used in float layouts where elements are floated to be</span>
<span class="sd">stacked horizontally.'''</span>
    <span class="k">def</span> <span class="nf">apply</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">elem</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="s">':before,:after'</span><span class="p">,</span>
                 <span class="n">display</span><span class="o">=</span><span class="s">'table'</span><span class="p">,</span>
                 <span class="n">content</span><span class="o">=</span><span class="s">'" "'</span><span class="p">)</span>
        <span class="n">elem</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="s">':after'</span><span class="p">,</span> <span class="n">clear</span><span class="o">=</span><span class="s">'both'</span><span class="p">)</span>


<span class="c">################################################# InlineBlock</span></div>
<span class="k">class</span> <span class="nc">InlineBlock</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>
    <span class="sd">'''Cross browser inline block form</span>

<span class="sd">http://foohack.com/2007/11/cross-browser-support-for-inline-block-styling/'''</span>
    <span class="k">def</span> <span class="nf">apply</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'display'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'-moz-inline-stack'</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'display'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'inline-block'</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'zoom'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'1'</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'*display'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'inline'</span>


<span class="c">################################################# TEXT OVERFLOW</span>
<span class="k">class</span> <span class="nc">Textoverflow</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'overflow'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'hidden'</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'text-overflow'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'ellipsis'</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'white-space'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'nowrap'</span>


<span class="k">class</span> <span class="nc">clear_anchor</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="n">elem</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="s">'a'</span><span class="p">,</span>
                 <span class="n">text_decoration</span><span class="o">=</span><span class="s">'none'</span><span class="p">,</span>
                 <span class="n">color</span><span class="o">=</span><span class="s">'inherit'</span><span class="p">,</span>
                 <span class="n">font_weight</span><span class="o">=</span><span class="s">'inherit'</span><span class="p">,</span>
                 <span class="n">cursor</span><span class="o">=</span><span class="s">'inherit'</span><span class="p">)</span>


<span class="c">################################################# FIXTOP</span>
<span class="k">class</span> <span class="nc">fixtop</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>
    <span class="sd">'''Fix an element at the top of the page.'''</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">zindex</span><span class="o">=</span><span class="mi">2000</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">zindex</span> <span class="o">=</span> <span class="n">zindex</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'left'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'top'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'right'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'position'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'fixed'</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'z_index'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'</span><span class="si">%s</span><span class="s">'</span> <span class="o">%</span> <span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">zindex</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">unfixtop</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'left'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'auto'</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'top'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'auto'</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'right'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'auto'</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'position'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'static'</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'z_index'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'auto'</span>


<span class="c">################################################# CSS BORDER</span>
<div class="viewcode-block" id="Border"><a class="viewcode-back" href="../../../../../extensions/ui.html#lux.extensions.ui.lib.mixins.Border">[docs]</a><span class="k">class</span> <span class="nc">Border</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>
    <span class="sd">'''A :class:`Mixin` for adding border to a css element.</span>

<span class="sd">    :param color: border color. If not set no border color is specified.</span>
<span class="sd">    :param style: border style. If not set, ``solid`` is used. Could be</span>
<span class="sd">        one of: ``solid``, ``dotted``, ``none``.</span>
<span class="sd">    :param width: border width. If not set ``1px`` is used.</span>
<span class="sd">    '''</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">right</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">style</span> <span class="o">=</span> <span class="n">style</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">spacing</span> <span class="o">=</span> <span class="p">(</span><span class="n">top</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">bottom</span><span class="p">,</span> <span class="n">left</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="p">)</span>
        <span class="n">w</span> <span class="o">=</span> <span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">c</span><span class="p">:</span>
            <span class="n">c</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">color</span><span class="p">(</span><span class="n">c</span><span class="p">))</span>
        <span class="n">spacings</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">where</span><span class="p">,</span> <span class="n">sp</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_spacings</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">spacing</span><span class="p">):</span>
            <span class="n">sp</span> <span class="o">=</span> <span class="n">as_value</span><span class="p">(</span><span class="n">sp</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">sp</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">spacings</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">where</span><span class="p">,</span> <span class="n">sp</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">s</span> <span class="o">==</span> <span class="s">'none'</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">spacings</span><span class="p">:</span>
            <span class="n">elem</span><span class="p">[</span><span class="s">'border'</span><span class="p">]</span> <span class="o">=</span> <span class="n">s</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">w</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">elem</span><span class="p">[</span><span class="s">'border'</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_border</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
            <span class="k">elif</span> <span class="ow">not</span> <span class="n">spacings</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">s</span><span class="p">:</span>
                    <span class="n">elem</span><span class="p">[</span><span class="s">'border-style'</span><span class="p">]</span> <span class="o">=</span> <span class="n">s</span>
                <span class="k">if</span> <span class="n">c</span><span class="p">:</span>
                    <span class="n">elem</span><span class="p">[</span><span class="s">'border-color'</span><span class="p">]</span> <span class="o">=</span> <span class="n">c</span>

            <span class="k">for</span> <span class="n">where</span><span class="p">,</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">spacings</span><span class="p">:</span>
                <span class="n">border</span> <span class="o">=</span> <span class="s">'border-</span><span class="si">%s</span><span class="s">'</span> <span class="o">%</span> <span class="n">where</span>
                <span class="n">elem</span><span class="p">[</span><span class="n">border</span><span class="p">]</span> <span class="o">=</span> <span class="n">s</span> <span class="k">if</span> <span class="n">s</span> <span class="o">==</span> <span class="s">'none'</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">_border</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_border</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
        <span class="n">bits</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">w</span><span class="p">),</span> <span class="n">s</span> <span class="ow">or</span> <span class="s">'solid'</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">c</span><span class="p">:</span>
            <span class="n">bits</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
        <span class="k">return</span> <span class="s">' '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">bits</span><span class="p">)</span>


<span class="c">################################################# CSS3 BOX SHADOW</span></div>
<div class="viewcode-block" id="Shadow"><a class="viewcode-back" href="../../../../../extensions/ui.html#lux.extensions.ui.lib.mixins.Shadow">[docs]</a><span class="k">class</span> <span class="nc">Shadow</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>
    <span class="sd">'''The box-shadow css3 property attaches one or more drop-shadows to the</span>
<span class="sd">box. The property is a comma-separated list of shadows, each specified by</span>
<span class="sd">2-4 length values, an optional color, and an optional inset keyword.</span>
<span class="sd">Omitted lengths are 0::</span>

<span class="sd">    Shadow(hshadow, vshadow, blur, spread, color, inset)</span>

<span class="sd">.. attribute:: hshadow</span>

<span class="sd">    The position of the horizontal shadow. Negative values are allowed.</span>

<span class="sd">.. attribute:: vshadow</span>

<span class="sd">    The position of the vertical shadow. Negative values are allowed.</span>

<span class="sd">.. attribute:: blur</span>

<span class="sd">    Optional blur distance.</span>

<span class="sd">.. attribute:: spread</span>

<span class="sd">    The size of shadow.</span>

<span class="sd">.. attribute:: color</span>

<span class="sd">    Optional color of the shadow.</span>

<span class="sd">.. attribute:: inset</span>

<span class="sd">    Optional boolean to changes the shadow from an outer shadow (outset)</span>
<span class="sd">    to an inner shadow.</span>
<span class="sd">'''</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hshadow</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">vshadow</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">blur</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">spread</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">color</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">inset</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hshadow</span> <span class="o">=</span> <span class="n">hshadow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vshadow</span> <span class="o">=</span> <span class="n">vshadow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blur</span> <span class="o">=</span> <span class="n">blur</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">spread</span> <span class="o">=</span> <span class="n">spread</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">inset</span> <span class="o">=</span> <span class="n">inset</span>

    <span class="k">def</span> <span class="nf">value</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">hshadow</span> <span class="o">=</span> <span class="n">size</span><span class="p">(</span><span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hshadow</span><span class="p">))</span>
        <span class="n">vshadow</span> <span class="o">=</span> <span class="n">size</span><span class="p">(</span><span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vshadow</span><span class="p">))</span>
        <span class="n">blur</span> <span class="o">=</span> <span class="n">size</span><span class="p">(</span><span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blur</span><span class="p">))</span>
        <span class="n">spread</span> <span class="o">=</span> <span class="n">size</span><span class="p">(</span><span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">spread</span><span class="p">))</span>
        <span class="n">col</span> <span class="o">=</span> <span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">)</span>
        <span class="n">inset</span> <span class="o">=</span> <span class="s">' inset'</span> <span class="k">if</span> <span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">inset</span><span class="p">)</span> <span class="k">else</span> <span class="s">''</span>
        <span class="k">if</span> <span class="n">hshadow</span> <span class="ow">or</span> <span class="n">vshadow</span> <span class="ow">or</span> <span class="n">blur</span> <span class="ow">or</span> <span class="n">spread</span><span class="p">:</span>
            <span class="n">shadow</span> <span class="o">=</span> <span class="s">'</span><span class="si">%s</span><span class="s"> </span><span class="si">%s</span><span class="s">'</span> <span class="o">%</span> <span class="p">(</span><span class="n">hshadow</span><span class="p">,</span> <span class="n">vshadow</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">spread</span> <span class="ow">or</span> <span class="n">blur</span><span class="p">:</span>
                <span class="n">shadow</span> <span class="o">=</span> <span class="s">'</span><span class="si">%s</span><span class="s"> </span><span class="si">%s</span><span class="s">'</span> <span class="o">%</span> <span class="p">(</span><span class="n">shadow</span><span class="p">,</span> <span class="n">blur</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">spread</span><span class="p">:</span>
                    <span class="n">shadow</span> <span class="o">=</span> <span class="s">'</span><span class="si">%s</span><span class="s"> </span><span class="si">%s</span><span class="s">'</span> <span class="o">%</span> <span class="p">(</span><span class="n">shadow</span><span class="p">,</span> <span class="n">spread</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">col</span><span class="p">:</span>
                <span class="n">shadow</span> <span class="o">=</span> <span class="s">'</span><span class="si">%s</span><span class="s"> </span><span class="si">%s</span><span class="s">'</span> <span class="o">%</span> <span class="p">(</span><span class="n">shadow</span><span class="p">,</span> <span class="n">color</span><span class="p">(</span><span class="n">col</span><span class="p">))</span>
            <span class="k">return</span> <span class="s">'</span><span class="si">%s%s</span><span class="s">'</span> <span class="o">%</span> <span class="p">(</span><span class="n">shadow</span><span class="p">,</span> <span class="n">inset</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">apply</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">,</span> <span class="n">shadow</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">shadow</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">elem</span><span class="p">[</span><span class="s">'-webkit-box-shadow'</span><span class="p">]</span> <span class="o">=</span> <span class="n">shadow</span>
            <span class="n">elem</span><span class="p">[</span><span class="s">'   -moz-box-shadow'</span><span class="p">]</span> <span class="o">=</span> <span class="n">shadow</span>
            <span class="n">elem</span><span class="p">[</span><span class="s">'        box-shadow'</span><span class="p">]</span> <span class="o">=</span> <span class="n">shadow</span>


<span class="c">################################################# CSS3 BOX SIZING</span></div>
<div class="viewcode-block" id="BoxSizing"><a class="viewcode-back" href="../../../../../extensions/ui.html#lux.extensions.ui.lib.mixins.BoxSizing">[docs]</a><span class="k">class</span> <span class="nc">BoxSizing</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>
    <span class="sd">'''The box-sizing CSS3 property.</span>

<span class="sd">This property allows you to define certain elements to fit an area in a</span>
<span class="sd">certain way.</span>

<span class="sd">The only parameter is ``value`` which can be one of:</span>

<span class="sd">* ``content-box``: This is the behavior of width and height as specified by</span>
<span class="sd">  CSS2. The specified width and height (and min/max properties) apply to the</span>
<span class="sd">  width and height respectively of the content box of the element.</span>
<span class="sd">  The padding and border of the element are laid out and drawn outside the</span>
<span class="sd">  specified width and height.</span>
<span class="sd">* ``border-box``: The specified width and height (and min/max properties)</span>
<span class="sd">  on this element determine the border box of the element.</span>
<span class="sd">  That is, any padding or border specified on the element is laid out and</span>
<span class="sd">  drawn inside this specified width and height. The content width and height</span>
<span class="sd">  are calculated by subtracting the border and padding widths of the</span>
<span class="sd">  respective sides from the specified 'width' and 'height' properties.</span>
<span class="sd">* ``inherit``</span>
<span class="sd">'''</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">value</span>      <span class="c"># 'content-box' or border-box</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">in</span> <span class="p">(</span><span class="s">'content-box'</span><span class="p">,</span> <span class="s">'border-box'</span><span class="p">,</span> <span class="s">'inherit'</span><span class="p">):</span>
            <span class="n">elem</span><span class="p">[</span><span class="s">'-webkit-box-sizing'</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
            <span class="n">elem</span><span class="p">[</span><span class="s">'   -moz-box-sizing'</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
            <span class="n">elem</span><span class="p">[</span><span class="s">'        box-sizing'</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>


<span class="c">################################################# CSS3 RADIUS</span></div>
<div class="viewcode-block" id="Radius"><a class="viewcode-back" href="../../../../../extensions/ui.html#lux.extensions.ui.lib.mixins.Radius">[docs]</a><span class="k">class</span> <span class="nc">Radius</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>
    <span class="sd">'''css3 border radius. The optional location parameter specifies the</span>
<span class="sd">location where to apply the radius. For example, 'top', 'bottom', 'left',</span>
<span class="sd">'right', 'top-left', 'top-right' and so on.</span>
<span class="sd">'''</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">radius</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">radius</span><span class="p">,</span> <span class="n">Radius</span><span class="p">):</span>
            <span class="n">radius</span> <span class="o">=</span> <span class="n">radius</span><span class="o">.</span><span class="n">radius</span>
            <span class="n">location</span> <span class="o">=</span> <span class="n">location</span> <span class="ow">or</span> <span class="n">radius</span><span class="o">.</span><span class="n">location</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="n">radius</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="n">location</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="n">r</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">)</span>
        <span class="n">locs</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">location</span> <span class="ow">or</span> <span class="s">''</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">r</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">locs</span> <span class="o">==</span> <span class="s">'top'</span><span class="p">:</span>
                <span class="n">locs</span> <span class="o">=</span> <span class="p">(</span><span class="s">'-top-left'</span><span class="p">,</span> <span class="s">'-top-right'</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">locs</span> <span class="o">==</span> <span class="s">'bottom'</span><span class="p">:</span>
                <span class="n">locs</span> <span class="o">=</span> <span class="p">(</span><span class="s">'-bottom-left'</span><span class="p">,</span> <span class="s">'-bottom-right'</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">locs</span> <span class="o">==</span> <span class="s">'left'</span><span class="p">:</span>
                <span class="n">locs</span> <span class="o">=</span> <span class="p">(</span><span class="s">'-top-left'</span><span class="p">,</span> <span class="s">'-bottom-left'</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">locs</span> <span class="o">==</span> <span class="s">'right'</span><span class="p">:</span>
                <span class="n">locs</span> <span class="o">=</span> <span class="p">(</span><span class="s">'-top-right'</span><span class="p">,</span> <span class="s">'-bottom-right'</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">locs</span><span class="p">:</span>
                <span class="n">locs</span> <span class="o">=</span> <span class="p">(</span><span class="s">'-</span><span class="si">%s</span><span class="s">'</span> <span class="o">%</span> <span class="n">locs</span><span class="p">,)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">locs</span> <span class="o">=</span> <span class="p">(</span><span class="s">''</span><span class="p">,)</span>
            <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">locs</span><span class="p">:</span>
                <span class="n">elem</span><span class="p">[</span><span class="s">'-webkit-border</span><span class="si">%s</span><span class="s">-radius'</span> <span class="o">%</span> <span class="n">l</span><span class="p">]</span> <span class="o">=</span> <span class="n">r</span>
                <span class="n">elem</span><span class="p">[</span><span class="s">'   -moz-border</span><span class="si">%s</span><span class="s">-radius'</span> <span class="o">%</span> <span class="n">l</span><span class="p">]</span> <span class="o">=</span> <span class="n">r</span>
                <span class="n">elem</span><span class="p">[</span><span class="s">'        border</span><span class="si">%s</span><span class="s">-radius'</span> <span class="o">%</span> <span class="n">l</span><span class="p">]</span> <span class="o">=</span> <span class="n">r</span>


<span class="c">################################################# CSS3 BACKGROUNd</span></div>
<span class="k">class</span> <span class="nc">Background</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">repeat</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="n">url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">size</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">repeat</span> <span class="o">=</span> <span class="n">repeat</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="n">position</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">:</span>
            <span class="n">elem</span><span class="p">[</span><span class="s">'background-image'</span><span class="p">]</span> <span class="o">=</span> <span class="s">"url(</span><span class="si">%s</span><span class="s">)"</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">:</span>
            <span class="n">elem</span><span class="p">[</span><span class="s">'-webkit-background-size'</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>
            <span class="n">elem</span><span class="p">[</span><span class="s">'   -moz-background-size'</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>
            <span class="n">elem</span><span class="p">[</span><span class="s">'     -o-background-size'</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>
            <span class="n">elem</span><span class="p">[</span><span class="s">'        background-size'</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">repeat</span><span class="p">:</span>
            <span class="n">elem</span><span class="p">[</span><span class="s">'background-repeat'</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">repeat</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">position</span><span class="p">:</span>
            <span class="n">elem</span><span class="p">[</span><span class="s">'background-position'</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">position</span>


<span class="c">################################################# CSS3 GRADIENT</span>
<div class="viewcode-block" id="Gradient"><a class="viewcode-back" href="../../../../../extensions/ui.html#lux.extensions.ui.lib.mixins.Gradient">[docs]</a><span class="k">class</span> <span class="nc">Gradient</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>
    <span class="sd">'''css3 gradient. Don't initialise directly, use :func:`gradient`</span>
<span class="sd">instead.</span>

<span class="sd">.. attribute:: direction</span>

<span class="sd">    One of ``v`` for vertical, ``h`` for horizontal.</span>

<span class="sd">.. attribute:: start</span>

<span class="sd">    The start color.</span>

<span class="sd">.. attribute:: end</span>

<span class="sd">    The start color.</span>
<span class="sd">'''</span>
    <span class="n">direction</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">direction</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">end</span> <span class="o">=</span> <span class="n">args</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">start</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">end</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">middle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">'''The middle value of the gradient.'''</span>
        <span class="n">start</span> <span class="o">=</span> <span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">start</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">=</span> <span class="n">color</span><span class="p">(</span><span class="n">start</span><span class="p">)</span>
            <span class="n">e</span> <span class="o">=</span> <span class="n">color</span><span class="p">(</span><span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">end</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">RGBA</span><span class="o">.</span><span class="n">mix</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="n">start</span> <span class="o">=</span> <span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">start</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">=</span> <span class="n">color</span><span class="p">(</span><span class="n">start</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">direction</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">d</span> <span class="o">=</span> <span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">direction</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">d</span> <span class="ow">in</span> <span class="p">(</span><span class="s">'h'</span><span class="p">,</span> <span class="s">'v'</span><span class="p">):</span>
                    <span class="n">decorate</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">d</span><span class="o">+</span><span class="s">'gradient'</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s">'Gradient </span><span class="si">%s</span><span class="s"> not supported'</span> <span class="o">%</span> <span class="n">d</span><span class="p">)</span>
                <span class="n">e</span> <span class="o">=</span> <span class="n">color</span><span class="p">(</span><span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">end</span><span class="p">))</span>
                <span class="n">decorate</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c"># a simple scalar, just set the background</span>
                <span class="n">elem</span><span class="p">[</span><span class="s">'background'</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_gradient</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="n">p</span> <span class="o">=</span> <span class="s">'100% 0'</span> <span class="k">if</span> <span class="n">l</span> <span class="o">==</span> <span class="s">'left'</span> <span class="k">else</span> <span class="s">'0 100%'</span>
        <span class="n">t</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">l</span> <span class="o">==</span> <span class="s">'left'</span> <span class="k">else</span> <span class="mi">0</span>
        <span class="c">#</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'background-color'</span><span class="p">]</span> <span class="o">=</span> <span class="n">e</span>
        <span class="c">#</span>
        <span class="c"># FF 3.6+</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'background-image'</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s">'-moz-linear-gradient({2}, {0}, {1})'</span>
                                    <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">l</span><span class="p">))</span>
        <span class="c">#</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'background-image'</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s">'-ms-linear-gradient({2}, {0}, {1})'</span>
                                    <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">l</span><span class="p">))</span>
        <span class="c">#</span>
        <span class="c"># Safari 4+, Chrome 2+</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'background-image'</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s">'-webkit-gradient(linear, 0 0, {2}, '</span>
                                    <span class="s">'from({0}), to({1}))'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">p</span><span class="p">))</span>
        <span class="c">#</span>
        <span class="c"># Safari 5.1+, Chrome 10+</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'background-image'</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s">'-webkit-linear-gradient({2}, {0}, {1})'</span>
                                    <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">l</span><span class="p">))</span>
        <span class="c">#</span>
        <span class="c"># Opera 11.10</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'background-image'</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s">'-o-linear-gradient({2}, {0}, {1})'</span>
                                    <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">l</span><span class="p">))</span>
        <span class="c">#</span>
        <span class="c"># Le standard</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'background-image'</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s">'linear-gradient({2}, {0}, {1})'</span>
                                    <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">l</span><span class="p">))</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'background-repeat'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'repeat-x'</span>
        <span class="c">#</span>
        <span class="c"># IE9 and down</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'filter'</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s">"progid:DXImageTransform.Microsoft.gradient("</span>
                          <span class="s">"startColorstr='{0}', endColorstr='{1}', "</span>
                          <span class="s">"GradientType={2})"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">t</span><span class="p">))</span>
        <span class="c">#</span>
        <span class="c"># Reset filters for IE</span>
        <span class="c">#elem['filter'] = ('progid:DXImageTransform.Microsoft.gradient'</span>
        <span class="c">#                  '(enabled = false)')</span>

    <span class="k">def</span> <span class="nf">hgradient</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gradient</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="s">'left'</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">vgradient</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gradient</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="s">'top'</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>

</div>
<span class="k">def</span> <span class="nf">gradient</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Gradient</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">Gradient</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>


<span class="c">################################################# PLACEHOLDER</span>
<span class="k">class</span> <span class="nc">Placeholder</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">color</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="n">cssa</span><span class="p">((</span><span class="s">'::-webkit-input-placeholder,'</span>
              <span class="s">':-moz-placeholder,'</span>
              <span class="s">':-ms-input-placeholder'</span><span class="p">),</span>
             <span class="n">parent</span><span class="o">=</span><span class="n">elem</span><span class="p">,</span>
             <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">)</span>


<span class="c">################################################# BCD - BACKGROUND-COLOR-DECO</span>
<div class="viewcode-block" id="Bcd"><a class="viewcode-back" href="../../../../../extensions/ui.html#lux.extensions.ui.lib.mixins.Bcd">[docs]</a><span class="k">class</span> <span class="nc">Bcd</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>
    <span class="sd">'''Background-color-decorator :class:`Mixin`.</span>

<span class="sd">    It can be applied to any element and it forms the basis for the</span>
<span class="sd">    :class:`Clickable` Mixin.</span>

<span class="sd">    :parameter background: backgroud or css3 :class:`Gradient`.</span>
<span class="sd">    :parameter colour: text colour</span>
<span class="sd">    :parameter text_shadow: text shadow</span>
<span class="sd">    :parameter text_decoration: text decoration</span>
<span class="sd">    :parameter border: :class:`Border` or parameters for :class:`Border`. If</span>
<span class="sd">        specified, the element will have a border definition.</span>
<span class="sd">    '''</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">text_shadow</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">text_decoration</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">background</span> <span class="o">=</span> <span class="n">background</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">text_shadow</span> <span class="o">=</span> <span class="n">text_shadow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">text_decoration</span> <span class="o">=</span> <span class="n">text_decoration</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">border</span><span class="p">,</span> <span class="n">Border</span><span class="p">)</span> <span class="ow">and</span> <span class="n">border</span><span class="p">:</span>
            <span class="n">border</span> <span class="o">=</span> <span class="n">Border</span><span class="p">(</span><span class="o">**</span><span class="n">as_params</span><span class="p">(</span><span class="n">border</span><span class="p">,</span> <span class="s">'color'</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">border</span> <span class="o">=</span> <span class="n">border</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="n">background</span> <span class="o">=</span> <span class="n">gradient</span><span class="p">(</span><span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">background</span><span class="p">))</span>
        <span class="n">background</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'color'</span><span class="p">]</span> <span class="o">=</span> <span class="n">safe_color</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">)</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'text-shadow'</span><span class="p">]</span> <span class="o">=</span> <span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text_shadow</span><span class="p">)</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'text_decoration'</span><span class="p">]</span> <span class="o">=</span> <span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text_decoration</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">border</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">border</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>

</div>
<span class="k">def</span> <span class="nf">bcd</span><span class="p">(</span><span class="n">params</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">Bcd</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">params</span>
    <span class="k">elif</span> <span class="n">params</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">Bcd</span><span class="p">(</span><span class="o">**</span><span class="n">as_params</span><span class="p">(</span><span class="n">params</span><span class="p">))</span>


<span class="c">################################################# CLICKABLE</span>
<div class="viewcode-block" id="Clickable"><a class="viewcode-back" href="../../../../../extensions/ui.html#lux.extensions.ui.lib.mixins.Clickable">[docs]</a><span class="k">class</span> <span class="nc">Clickable</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>
    <span class="sd">'''Defines the default, hover and active state.'''</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">hover</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">active</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">cursor</span><span class="o">=</span><span class="s">'pointer'</span><span class="p">,</span>
                 <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span> <span class="o">=</span> <span class="n">cursor</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">default</span> <span class="o">=</span> <span class="n">bcd</span><span class="p">(</span><span class="n">default</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hover</span> <span class="o">=</span> <span class="n">bcd</span><span class="p">(</span><span class="n">hover</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">active</span> <span class="o">=</span> <span class="n">bcd</span><span class="p">(</span><span class="n">active</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="n">classes</span> <span class="o">=</span> <span class="n">elem</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">classes</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'cursor'</span><span class="p">]</span> <span class="o">=</span> <span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cursor</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">default</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">default</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">hover</span><span class="p">:</span>
            <span class="n">elem</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="s">':hover,.</span><span class="si">%s</span><span class="s">'</span> <span class="o">%</span> <span class="n">classes</span><span class="o">.</span><span class="n">hover</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">hover</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">active</span><span class="p">:</span>
            <span class="n">elem</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="s">':active,.</span><span class="si">%s</span><span class="s">'</span> <span class="o">%</span> <span class="n">classes</span><span class="o">.</span><span class="n">active</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">active</span><span class="p">)</span>


<span class="c">################################################# TRANSITION</span></div>
<div class="viewcode-block" id="Transition"><a class="viewcode-back" href="../../../../../extensions/ui.html#lux.extensions.ui.lib.mixins.Transition">[docs]</a><span class="k">class</span> <span class="nc">Transition</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>
    <span class="sd">'''Define a CSS3 transition.</span>

<span class="sd">    A transition is controlled via the following parameters:</span>

<span class="sd">    .. attribute:: property</span>

<span class="sd">        Specifies the name or comma separated names of the CSS properties</span>
<span class="sd">        to which transitions</span>
<span class="sd">        should be applied. Only properties listed here are animated during</span>
<span class="sd">        transitions; changes to all other properties occur instantaneously</span>
<span class="sd">        as usual.</span>

<span class="sd">        Valid values are: ``opacity``, ``left``, ``top``, ``height``, ``all``</span>
<span class="sd">        and so forth.</span>

<span class="sd">    .. attribute:: duration</span>

<span class="sd">        Specifies the duration over which transitions should occur.</span>
<span class="sd">        You can specify a single duration that applies to all properties</span>
<span class="sd">        during the transition, or multiple values to allow each property</span>
<span class="sd">        to transition over a different period of time.</span>

<span class="sd">        Valid value is a string of type ``0.5s``, ``2s, 5s`` and so forth.</span>

<span class="sd">    .. attribute:: easing</span>

<span class="sd">        The `easing function`_ to use. Default: ``linear``.</span>

<span class="sd">    .. attribute:: delay</span>

<span class="sd">        Defines how long to wait between the time a property is changed</span>
<span class="sd">        and the transition actually begins.</span>

<span class="sd">    .. _`easing function`: http://easings.net/</span>
<span class="sd">    '''</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">property</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">easing</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">property</span> <span class="o">=</span> <span class="nb">property</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">duration</span> <span class="o">=</span> <span class="n">duration</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">easing</span> <span class="o">=</span> <span class="n">easing</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="o">=</span> <span class="n">delay</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="nb">property</span> <span class="o">=</span> <span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">property</span><span class="p">)</span>
        <span class="n">duration</span> <span class="o">=</span> <span class="n">as_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">duration</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">property</span> <span class="o">==</span> <span class="s">'none'</span><span class="p">:</span>
            <span class="n">transition</span> <span class="o">=</span> <span class="s">'none'</span>
        <span class="k">elif</span> <span class="n">duration</span><span class="p">:</span>
            <span class="n">ds</span> <span class="o">=</span> <span class="n">duration</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">','</span><span class="p">)</span>
            <span class="n">es</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">easing</span> <span class="ow">or</span> <span class="s">'linear'</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">','</span><span class="p">)</span>
            <span class="n">ls</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delay</span> <span class="ow">or</span> <span class="s">''</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">','</span><span class="p">)</span>
            <span class="nb">all</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="nb">property</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">property</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">','</span><span class="p">)):</span>
                <span class="nb">property</span> <span class="o">=</span> <span class="nb">property</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">' '</span><span class="p">,</span> <span class="s">''</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">property</span><span class="p">:</span>
                    <span class="n">dur</span> <span class="o">=</span> <span class="p">(</span><span class="n">ds</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span> <span class="k">else</span> <span class="n">ds</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">' '</span><span class="p">,</span> <span class="s">''</span><span class="p">)</span>
                    <span class="n">eas</span> <span class="o">=</span> <span class="p">(</span><span class="n">es</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">es</span><span class="p">)</span> <span class="k">else</span> <span class="n">es</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">' '</span><span class="p">,</span> <span class="s">''</span><span class="p">)</span>
                    <span class="n">lay</span> <span class="o">=</span> <span class="p">(</span><span class="n">ls</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">ls</span><span class="p">)</span> <span class="k">else</span> <span class="n">ls</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">' '</span><span class="p">,</span> <span class="s">''</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">lay</span><span class="p">:</span>
                        <span class="n">lay</span> <span class="o">=</span> <span class="s">' </span><span class="si">%s</span><span class="s">'</span> <span class="o">%</span> <span class="n">lay</span>
                    <span class="nb">all</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">'</span><span class="si">%s</span><span class="s"> </span><span class="si">%s</span><span class="s"> </span><span class="si">%s%s</span><span class="s">'</span> <span class="o">%</span> <span class="p">(</span><span class="nb">property</span><span class="p">,</span> <span class="n">dur</span><span class="p">,</span> <span class="n">eas</span><span class="p">,</span> <span class="n">lay</span><span class="p">))</span>
            <span class="n">transition</span> <span class="o">=</span> <span class="s">', '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">all</span><span class="p">)</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'-webkit-transition'</span><span class="p">]</span> <span class="o">=</span> <span class="n">transition</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'   -moz-transition'</span><span class="p">]</span> <span class="o">=</span> <span class="n">transition</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'     -o-transition'</span><span class="p">]</span> <span class="o">=</span> <span class="n">transition</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'        transition'</span><span class="p">]</span> <span class="o">=</span> <span class="n">transition</span>


<span class="c">################################################# HORIZONTAL NAVIGATION</span></div>
<span class="k">class</span> <span class="nc">horizontal_navigation</span><span class="p">(</span><span class="n">Clickable</span><span class="p">):</span>
    <span class="sd">'''Horizontal navigation with ul and li tags.</span>

<span class="sd">:parameter padding: the padding for the navigation anchors.'''</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="nb">float</span><span class="o">=</span><span class="s">'left'</span><span class="p">,</span>
                 <span class="n">margin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                 <span class="n">height</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">padding</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">secondary_default</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">secondary_hover</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">secondary_active</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">secondary_padding</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">secondary_width</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">radius</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">box_shadow</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">display_all</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                 <span class="n">z_index</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">horizontal_navigation</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">float</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s">'left'</span><span class="p">,</span> <span class="s">'right'</span><span class="p">):</span>
            <span class="nb">float</span> <span class="o">=</span> <span class="s">'left'</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">float</span> <span class="o">=</span> <span class="nb">float</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">margin</span> <span class="o">=</span> <span class="n">margin</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">height</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">secondary_default</span> <span class="o">=</span> <span class="n">secondary_default</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">secondary_hover</span> <span class="o">=</span> <span class="n">secondary_hover</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">secondary_active</span> <span class="o">=</span> <span class="n">secondary_active</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">secondary_width</span> <span class="o">=</span> <span class="n">secondary_width</span> <span class="ow">or</span> <span class="n">px</span><span class="p">(</span><span class="mi">120</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="n">Radius</span><span class="p">(</span><span class="n">radius</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">box_shadow</span> <span class="o">=</span> <span class="n">Shadow</span><span class="p">(</span><span class="n">box_shadow</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">display_all</span> <span class="o">=</span> <span class="n">display_all</span>
        <span class="c"># padding</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">padding</span> <span class="o">=</span> <span class="n">padding</span> <span class="ow">or</span> <span class="n">secondary_padding</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">secondary_padding</span> <span class="o">=</span> <span class="n">secondary_padding</span> <span class="ow">or</span> <span class="n">px</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="c"># Z index for subnavigations</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">z_index</span> <span class="o">=</span> <span class="n">z_index</span> <span class="ow">or</span> <span class="mi">1000</span>

    <span class="k">def</span> <span class="nf">list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">default</span><span class="p">,</span> <span class="n">hover</span><span class="p">,</span> <span class="n">active</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">css</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span>
                   <span class="n">default</span><span class="o">.</span><span class="n">background</span><span class="p">,</span>
                   <span class="n">css</span><span class="p">(</span><span class="s">'&gt; a'</span><span class="p">,</span>
                       <span class="n">bcd</span><span class="p">(</span><span class="n">background</span><span class="o">=</span><span class="s">'transparent'</span><span class="p">,</span>
                           <span class="n">color</span><span class="o">=</span><span class="n">default</span><span class="o">.</span><span class="n">color</span><span class="p">,</span>
                           <span class="n">text_decoration</span><span class="o">=</span><span class="n">default</span><span class="o">.</span><span class="n">text_decoration</span><span class="p">,</span>
                           <span class="n">text_shadow</span><span class="o">=</span><span class="n">default</span><span class="o">.</span><span class="n">text_shadow</span><span class="p">)),</span>
                   <span class="n">css</span><span class="p">(</span><span class="s">':hover'</span><span class="p">,</span>
                       <span class="n">hover</span><span class="o">.</span><span class="n">background</span><span class="p">,</span>
                       <span class="n">css</span><span class="p">(</span><span class="s">'&gt; a'</span><span class="p">,</span>
                           <span class="n">bcd</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="n">hover</span><span class="o">.</span><span class="n">color</span><span class="p">,</span>
                               <span class="n">text_decoration</span><span class="o">=</span><span class="n">hover</span><span class="o">.</span><span class="n">text_decoration</span><span class="p">,</span>
                               <span class="n">text_shadow</span><span class="o">=</span><span class="n">hover</span><span class="o">.</span><span class="n">text_shadow</span><span class="p">)),</span>
                       <span class="n">css</span><span class="p">(</span><span class="s">'&gt; ul'</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="s">'block'</span><span class="p">)),</span>
                   <span class="n">css</span><span class="p">(</span><span class="s">':active, .</span><span class="si">%s</span><span class="s">'</span> <span class="o">%</span> <span class="n">classes</span><span class="o">.</span><span class="n">state_active</span><span class="p">,</span>
                       <span class="n">active</span><span class="o">.</span><span class="n">background</span><span class="p">,</span>
                       <span class="n">css</span><span class="p">(</span><span class="s">'&gt; a'</span><span class="p">,</span>
                           <span class="n">bcd</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="n">active</span><span class="o">.</span><span class="n">color</span><span class="p">,</span>
                               <span class="n">text_decoration</span><span class="o">=</span><span class="n">active</span><span class="o">.</span><span class="n">text_decoration</span><span class="p">,</span>
                               <span class="n">text_shadow</span><span class="o">=</span><span class="n">active</span><span class="o">.</span><span class="n">text_shadow</span><span class="p">))),</span>
                   <span class="n">cursor</span><span class="o">=</span><span class="s">'pointer'</span><span class="p">,</span>
                   <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'display'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'block'</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'float'</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">float</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'position'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'relative'</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'padding'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">margin</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">float</span> <span class="o">==</span> <span class="s">'left'</span><span class="p">:</span>
                <span class="n">elem</span><span class="p">[</span><span class="s">'margin'</span><span class="p">]</span> <span class="o">=</span> <span class="n">spacing</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">margin</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">elem</span><span class="p">[</span><span class="s">'margin'</span><span class="p">]</span> <span class="o">=</span> <span class="n">spacing</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">margin</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">box_shadow</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
        <span class="n">padding</span> <span class="o">=</span> <span class="p">(</span><span class="n">spacing</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">padding</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">padding</span> <span class="k">else</span>
                   <span class="n">spacing</span><span class="p">(</span><span class="n">px</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">px</span><span class="p">(</span><span class="mi">10</span><span class="p">)))</span>
        <span class="c">#</span>
        <span class="n">default</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default</span> <span class="ow">or</span> <span class="n">bcd</span><span class="p">()</span>
        <span class="n">hover</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hover</span> <span class="ow">or</span> <span class="n">bcd</span><span class="p">()</span>
        <span class="n">active</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">active</span> <span class="ow">or</span> <span class="n">bcd</span><span class="p">()</span>
        <span class="c"># li elements in the main navigation ( &gt; li)</span>
        <span class="n">li</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list</span><span class="p">(</span><span class="s">'&gt; li'</span><span class="p">,</span> <span class="n">elem</span><span class="p">,</span> <span class="n">default</span><span class="p">,</span> <span class="n">hover</span><span class="p">,</span> <span class="n">active</span><span class="p">)</span>
        <span class="n">li</span><span class="p">[</span><span class="s">'display'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'block'</span>
        <span class="n">li</span><span class="p">[</span><span class="s">'float'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'left'</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">:</span>
            <span class="n">line_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">-</span> <span class="n">padding</span><span class="o">.</span><span class="n">top</span> <span class="o">-</span> <span class="n">padding</span><span class="o">.</span><span class="n">bottom</span>
            <span class="k">if</span> <span class="n">line_height</span><span class="o">.</span><span class="n">value</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">'Nav has height to low compared to paddings'</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">line_height</span> <span class="o">=</span> <span class="bp">None</span>

        <span class="c"># subnavigations</span>
        <span class="n">default</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">secondary_default</span> <span class="ow">or</span> <span class="n">default</span>
        <span class="n">hover</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">secondary_hover</span> <span class="ow">or</span> <span class="n">hover</span>
        <span class="n">active</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">secondary_active</span> <span class="ow">or</span> <span class="n">active</span>
        <span class="n">ul</span> <span class="o">=</span> <span class="n">css</span><span class="p">(</span><span class="s">'ul'</span><span class="p">,</span>
                 <span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">,</span>
                 <span class="n">gradient</span><span class="p">(</span><span class="n">default</span><span class="o">.</span><span class="n">background</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
                 <span class="n">parent</span><span class="o">=</span><span class="n">elem</span><span class="p">,</span>
                 <span class="n">cursor</span><span class="o">=</span><span class="s">'default'</span><span class="p">,</span>
                 <span class="n">position</span><span class="o">=</span><span class="s">'absolute'</span><span class="p">,</span>
                 <span class="n">margin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                 <span class="n">padding</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">secondary_padding</span><span class="p">,</span>
                 <span class="n">top</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">,</span>
                 <span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">secondary_width</span><span class="p">,</span>
                 <span class="n">list_style</span><span class="o">=</span><span class="s">'none'</span><span class="p">,</span>
                 <span class="n">list_style_image</span><span class="o">=</span><span class="s">'none'</span><span class="p">,</span>
                 <span class="n">z_index</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">z_index</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_all</span><span class="p">:</span>
            <span class="n">ul</span><span class="p">[</span><span class="s">'display'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'none'</span>
        <span class="c"># The sub lists li</span>
        <span class="n">li</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list</span><span class="p">(</span><span class="s">'li'</span><span class="p">,</span> <span class="n">ul</span><span class="p">,</span> <span class="n">default</span><span class="p">,</span> <span class="n">hover</span><span class="p">,</span> <span class="n">active</span><span class="p">)</span>
        <span class="n">li</span><span class="p">[</span><span class="s">'padding'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">li</span><span class="p">[</span><span class="s">'margin'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">li</span><span class="p">[</span><span class="s">'position'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'relative'</span>
        <span class="n">li</span><span class="p">[</span><span class="s">'border'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'none'</span>
        <span class="n">li</span><span class="p">[</span><span class="s">'width'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'auto'</span>
        <span class="c"># the sub sub lists</span>
        <span class="n">ulul</span> <span class="o">=</span> <span class="n">css</span><span class="p">(</span><span class="s">'ul'</span><span class="p">,</span>
                   <span class="n">gradient</span><span class="p">(</span><span class="n">default</span><span class="o">.</span><span class="n">background</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
                   <span class="n">parent</span><span class="o">=</span><span class="n">li</span><span class="p">,</span>
                   <span class="n">top</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                   <span class="n">position</span><span class="o">=</span><span class="s">'absolute'</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">float</span> <span class="o">==</span> <span class="s">'right'</span><span class="p">:</span>
            <span class="n">ul</span><span class="p">[</span><span class="s">'right'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">ulul</span><span class="p">[</span><span class="s">'left'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'auto'</span>
            <span class="n">ulul</span><span class="p">[</span><span class="s">'right'</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">secondary_width</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ulul</span><span class="p">[</span><span class="s">'left'</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">secondary_width</span>
            <span class="n">ulul</span><span class="p">[</span><span class="s">'right'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'auto'</span>
        <span class="c"># The anchor</span>
        <span class="n">css</span><span class="p">(</span><span class="s">'a'</span><span class="p">,</span>
            <span class="n">parent</span><span class="o">=</span><span class="n">elem</span><span class="p">,</span>
            <span class="n">display</span><span class="o">=</span><span class="s">'inline-block'</span><span class="p">,</span>
            <span class="nb">float</span><span class="o">=</span><span class="s">'none'</span><span class="p">,</span>
            <span class="n">line_height</span><span class="o">=</span><span class="n">line_height</span><span class="p">,</span>
            <span class="n">padding</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">padding</span><span class="p">)</span>


<span class="c">################################################# INCLUDE CSS</span>
<div class="viewcode-block" id="CssInclude"><a class="viewcode-back" href="../../../../../extensions/ui.html#lux.extensions.ui.lib.mixins.CssInclude">[docs]</a><span class="k">class</span> <span class="nc">CssInclude</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>
    <span class="sd">'''Include one or more css resources. The correct use of this</span>
<span class="sd">:class:`Mixin` is with the *body* tag only::</span>

<span class="sd">    css('body', css_include(path))</span>

<span class="sd">path can be both an internett address as well as a local url.</span>

<span class="sd">.. attribute:: path</span>

<span class="sd">    A valid file location or a fully qualified internet address</span>

<span class="sd">.. attribute:: location</span>

<span class="sd">    Optional relative location of imports. If specified ``url(...)``</span>
<span class="sd">    entries in the css string will be modified.</span>

<span class="sd">.. attribute:: replace</span>

<span class="sd">    Optional string to replace just after a ``url(`` element in the</span>
<span class="sd">    css file.</span>
<span class="sd">'''</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">path</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="n">location</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">replace</span> <span class="o">=</span> <span class="n">replace</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">path</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">'http'</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                    <span class="n">stream</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">stream</span> <span class="o">=</span> <span class="n">path</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">elem</span><span class="o">.</span><span class="n">http</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
                <span class="n">stream</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">decode_content</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
        <span class="n">root</span> <span class="o">=</span> <span class="n">elem</span><span class="o">.</span><span class="n">root</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">location</span><span class="p">:</span>
            <span class="n">stream</span> <span class="o">=</span> <span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">correct</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">stream</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">stream</span>

    <span class="k">def</span> <span class="nf">correct</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">stream</span><span class="p">):</span>
        <span class="n">media_url</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="s">'MEDIA_URL'</span><span class="p">)</span>
        <span class="n">adv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">advance</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">stream</span><span class="o">.</span><span class="n">splitlines</span><span class="p">():</span>
            <span class="n">n</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s">'url('</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">n</span><span class="p">:</span>
                <span class="n">rline</span> <span class="o">=</span> <span class="n">line</span>
                <span class="n">old_line</span> <span class="o">=</span> <span class="n">line</span>
                <span class="n">line</span> <span class="o">=</span> <span class="s">''</span>
                <span class="k">while</span> <span class="n">n</span><span class="p">:</span>
                    <span class="n">n</span> <span class="o">-=</span> <span class="mi">1</span>
                    <span class="n">p</span> <span class="o">=</span> <span class="n">rline</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">'url('</span><span class="p">)</span> <span class="o">+</span> <span class="mi">4</span>
                    <span class="n">rline</span><span class="p">,</span> <span class="n">line</span> <span class="o">=</span> <span class="n">adv</span><span class="p">(</span><span class="n">rline</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
                    <span class="n">end</span> <span class="o">=</span> <span class="s">')'</span>
                    <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="p">(</span><span class="s">'"'</span><span class="p">,</span> <span class="s">"'"</span><span class="p">):</span>
                        <span class="k">if</span> <span class="n">rline</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
                            <span class="n">rline</span><span class="p">,</span> <span class="n">line</span> <span class="o">=</span> <span class="n">adv</span><span class="p">(</span><span class="n">rline</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                            <span class="n">end</span> <span class="o">=</span> <span class="s">"</span><span class="si">%s</span><span class="s">)"</span> <span class="o">%</span> <span class="n">e</span>
                            <span class="k">break</span>
                    <span class="n">p</span> <span class="o">=</span> <span class="n">rline</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">end</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">p</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">rline</span><span class="p">,</span> <span class="n">url</span> <span class="o">=</span> <span class="n">adv</span><span class="p">(</span><span class="n">rline</span><span class="p">,</span> <span class="s">''</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
                        <span class="n">nurl</span> <span class="o">=</span> <span class="bp">None</span>
                        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">replace</span> <span class="ow">and</span> <span class="n">url</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">replace</span><span class="p">):</span>
                            <span class="n">nurl</span> <span class="o">=</span> <span class="n">url</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">replace</span><span class="p">):]</span>
                        <span class="k">elif</span> <span class="ow">not</span> <span class="p">(</span><span class="n">url</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">'.'</span><span class="p">)</span> <span class="ow">or</span> <span class="n">url</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">'/'</span><span class="p">)):</span>
                            <span class="n">nurl</span> <span class="o">=</span> <span class="n">url</span>
                        <span class="k">if</span> <span class="n">nurl</span><span class="p">:</span>
                            <span class="n">url</span> <span class="o">=</span> <span class="s">'</span><span class="si">%s%s%s</span><span class="s">'</span> <span class="o">%</span> <span class="p">(</span><span class="n">media_url</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">location</span><span class="p">,</span> <span class="n">nurl</span><span class="p">)</span>
                        <span class="n">line</span> <span class="o">+=</span> <span class="n">url</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">rline</span><span class="p">,</span> <span class="n">line</span> <span class="o">=</span> <span class="s">''</span><span class="p">,</span> <span class="n">old_line</span>
                        <span class="k">break</span>
                <span class="n">line</span> <span class="o">+=</span> <span class="n">rline</span>
            <span class="k">yield</span> <span class="n">line</span>

    <span class="k">def</span> <span class="nf">advance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rline</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="n">line</span> <span class="o">+=</span> <span class="n">rline</span><span class="p">[:</span><span class="n">p</span><span class="p">]</span>
        <span class="n">rline</span> <span class="o">=</span> <span class="n">rline</span><span class="p">[</span><span class="n">p</span><span class="p">:]</span>
        <span class="k">return</span> <span class="n">rline</span><span class="p">,</span> <span class="n">line</span>

</div>
<span class="k">class</span> <span class="nc">Image</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">repeat</span><span class="o">=</span><span class="s">'no-repeat'</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="s">'center'</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="n">url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">repeat</span> <span class="o">=</span> <span class="n">repeat</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="n">position</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">url</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">'http'</span><span class="p">):</span>
            <span class="n">url</span> <span class="o">=</span> <span class="s">'</span><span class="si">%s%s</span><span class="s">'</span> <span class="o">%</span> <span class="p">(</span><span class="n">cssv</span><span class="o">.</span><span class="n">MEDIAURL</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'background-image'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'url(</span><span class="si">%s</span><span class="s">)'</span> <span class="o">%</span> <span class="n">url</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">repeat</span><span class="p">:</span>
            <span class="n">elem</span><span class="p">[</span><span class="s">'background-repeat'</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">repeat</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">position</span><span class="p">:</span>
            <span class="n">elem</span><span class="p">[</span><span class="s">'background-position'</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">position</span>


<span class="c">################################################# FONT-FACE</span>
<div class="viewcode-block" id="Fontface"><a class="viewcode-back" href="../../../../../extensions/ui.html#lux.extensions.ui.lib.mixins.Fontface">[docs]</a><span class="k">class</span> <span class="nc">Fontface</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">svg</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">base</span> <span class="o">=</span> <span class="n">base</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">svg</span> <span class="o">=</span> <span class="s">'#'</span><span class="o">+</span><span class="n">svg</span> <span class="k">if</span> <span class="n">svg</span> <span class="k">else</span> <span class="s">''</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="n">base</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">base</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">'http'</span><span class="p">):</span>
            <span class="n">base</span> <span class="o">=</span> <span class="n">cssv</span><span class="o">.</span><span class="n">MEDIAURL</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">base</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'src'</span><span class="p">]</span> <span class="o">=</span> <span class="s">"url('{0}.eot')"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">base</span><span class="p">)</span>
        <span class="n">elem</span><span class="p">[</span><span class="s">'src'</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s">"url('{0}.eot?#iefix') format('embedded-opentype'), "</span>
                       <span class="s">"url('{0}.woff') format('woff'), "</span>
                       <span class="s">"url('{0}.ttf') format('truetype'), "</span>
                       <span class="s">"url('{0}.svg{1}') format('svg')"</span>
                       <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">svg</span><span class="p">))</span>


<span class="c">################################################# Stack</span></div>
<div class="viewcode-block" id="Stack"><a class="viewcode-back" href="../../../../../extensions/ui.html#lux.extensions.ui.lib.mixins.Stack">[docs]</a><span class="k">class</span> <span class="nc">Stack</span><span class="p">(</span><span class="n">Mixin</span><span class="p">):</span>
    <span class="sd">'''Stack :class:`Stackable` mixins.'''</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">mixins</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mixins</span> <span class="o">=</span> <span class="n">mixins</span>
        <span class="n">classes</span> <span class="o">=</span> <span class="nb">set</span><span class="p">((</span><span class="n">m</span><span class="o">.</span><span class="n">__class__</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">mixins</span><span class="p">))</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">classes</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s">'Stack works with mixins of the same class'</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">value</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">values</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">mixin</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">mixins</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">mixin</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">values</span><span class="p">:</span>
            <span class="k">return</span> <span class="s">', '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">apply</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mixins</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mixins</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>
</pre>
 </div>
</div>

                </div>
            </div>
        </div>
    </div>
</div>
<header id='top' class="navbar-static-top navbar-inverse navbar-fixed-top lux-nav" role="banner">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#site-navigation">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://quantmind.github.io/lux" class="brand" target="_self">
                <img src="http://quantmind.github.io/lux/media/luxsite/lux-banner.png" alt="Lux">
            </a>
        </div>
        <nav id="site-navigation" class="collapse navbar-collapse navbar-right" role="navigation" ng-cloak>
            <ul class="nav navbar-nav">
                <li ng-class="{active:activeLink('http://quantmind.github.io/lux/documentation')}">
                    <a href="http://quantmind.github.io/lux/documentation" title="Documentation">Docs</a>
                </li>
                <li ng-class="{active:activeLink('http://quantmind.github.io/lux/tutorials/')}">
                    <a href="http://quantmind.github.io/lux/tutorials/" title="Tutorials">Tutorials</a>
                </li>
                <li ng-class="{active:activeLink('http://quantmind.github.io/lux/extensions/')}">
                    <a href="http://quantmind.github.io/lux/extensions/" title="Extensions">Extensions</a>
                </li>
            </ul>
            <form class="navbar-form navbar-left navbar-input-group" role="search">
                <div class="form-group">
                  <input type="text" class="form-control" placeholder="Search" ng-model="search_text">
                </div>
                <button class="btn btn-default" type="button" ng-click="search()">
                    <i class="fa fa-search"></i>
                </button>
            </form>
        </nav>
    </div>
</header>
<div class='small hidden-print text-muted' id='page-footer'>
    <div class='container'>
        <div class='row'>
            <div class='block col-sm-5'>
                <div class='hidden-xs'>
                    <ul class="fa-ul text-left">
    <li><i class="fa-li fa fa-copyright"></i>2014 <a href="http://quantmind.com">Quantmind</a></li>
    <li>Site build with Lux on python 3.4.1</li>
    <li>Docs build with <a href="http://sphinx-doc.org/" target="_blank">Sphinx</a></li>
</ul>
                </div>
                <div class='text-center visible-xs'>
                    <ul class="fa-ul text-left">
    <li><i class="fa-li fa fa-copyright"></i>2014 <a href="http://quantmind.com">Quantmind</a></li>
    <li>Site build with Lux on python 3.4.1</li>
    <li>Docs build with <a href="http://sphinx-doc.org/" target="_blank">Sphinx</a></li>
</ul>
                </div>
            </div>
            <div class='block col-sm-2 text-center'>
                <div class='hidden-xs'>
                    <p><a href='#top' data-ng-click="scrollToHash($event)" title="Quantmind" class="hover-opacity">
    <img height=50 title='Lux' src='http://quantmind.github.io/lux/media/luxsite/lux.png' alt='quantmind'>
</a></p>
                </div>
                <div class='visible-xs'>
                    <p><a href='https://twitter.com/quantmind' title='Follow quantmind on twitter'>
<i class='fa fa-twitter fa-2x'></i></a>
<a href='https://plus.google.com/+QuantmindPlus' title='Follow quantmind on google+'>
<i class='fa fa-google-plus-square fa-2x'></i></a>
<a href='https://www.facebook.com/quantmind' title='Follow quantmind on facebook'>
<i class='fa fa-facebook-square fa-2x'></i></a>
<a href='https://github.com/quantmind/lux' title='Lux on github'>
<i class='fa fa-github fa-2x'></i></a></p>
                </div>
            </div>
            <div class='block col-sm-5'>
                <div class='text-right hidden-xs'>
                    <p><a href='https://twitter.com/quantmind' title='Follow quantmind on twitter'>
<i class='fa fa-twitter fa-2x'></i></a>
<a href='https://plus.google.com/+QuantmindPlus' title='Follow quantmind on google+'>
<i class='fa fa-google-plus-square fa-2x'></i></a>
<a href='https://www.facebook.com/quantmind' title='Follow quantmind on facebook'>
<i class='fa fa-facebook-square fa-2x'></i></a>
<a href='https://github.com/quantmind/lux' title='Lux on github'>
<i class='fa fa-github fa-2x'></i></a></p>
                </div>
                <div class='text-center visible-xs'>
                    <p><a href='#top' data-ng-click="scrollToHash($event)" title="Quantmind" class="hover-opacity">
    <img height=50 title='Lux' src='http://quantmind.github.io/lux/media/luxsite/lux.png' alt='quantmind'>
</a></p>
                </div>
            </div>
        </div>
    </div>
</div></body>
</html>